<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<!-- MathJax -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- MathJax -->


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Changing Some Configuration from Defaults</title>

<link rel="stylesheet" href="../../style.css" type="text/css" />

<link rel="stylesheet" href="../../local.css" type="text/css" />




<meta name="date" content="2010-05-22 20:36:42" />


<!-- Analytics code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34541429-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>
<body>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

<a href="../../">Rogério Brito's Digital Junkyard</a>/

<a href="../">posts</a>/

</span>

<!-- Top ad -->
<script type="text/javascript"><!--
google_ad_client = "ca-pub-9817929118225956";
/* Horizontal ad unit */
google_ad_slot = "2816925222";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


<span class="title">
Changing Some Configuration from Defaults
<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-annotation="inline" data-width="300"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

</span>
</span>

</div>


<div class="actions">
<ul>


<li><a href="../../recentchanges/">RecentChanges</a></li>








</ul>
</div>






</div>



<div id="pagebody">

<div id="content">
<p>Two of my most frequently used tools are, hands down, Emacs and bash. Having a pleasant configuration of one's toolbox is necessary for long-term productivity.</p>

<p>However, newer versions of the programs (any programs) don't always have good, comfortable defaults. That is the case with Emacs 23 and bash 4.</p>

<p>With Emacs 23, by default, the scratch buffer shows some text that, if you want to quickly enter text to be saved, has to be deleted. This can be tolerated for some invocations of the editor. But at some point, it gets on one's nerves.</p>

<p>Luckily, Emacs is so fully customizable that this is not a problem, unless you have to hunt down the right knobs and you are an e-lisp illiterate. That is my case.</p>

<p>After reading an admittedly small amount of documentation, some good lines that ought to be put into one's <code>.emacs</code> file are:</p>

<pre>(setq inhibit-startup-echo-area-message "rbrito")
(setq initial-scratch-message nil); show an empty scratch buffer
(setq inhibit-startup-message t); remove splash screen
</pre>


<p>Another line that may make things more comfortable (especially if you, like me, use Emacs's dired as a filemanager to navigate your folders):</p>

<pre>(defalias 'yes-or-no-p 'y-or-n-p)
</pre>


<p>But configuring Emacs is not always that hard. Seeing a change of behaviour with your shell is scarier. When bash 4 was released, one thing that got implemented is the echo of some characters from the terminal to the screen.</p>

<p>In practice and with my usage pattern, this meant that whenever I was typing a command line, changed my mind and pressed C-c, I got a ^C printed on the screen, usually overwriting one or two characters of what I had typed. And this prevented me from automatically copying and pasting the command that I had typed.</p>

<p>Looking for an answer to that was much harder than to see how to change a parameter on Emacs: every search that I tried on Google with the words "bash" and "Ctrl-C" or some variants of that eventually lead me to "how do I trap a Ctrl-C on my shell script?".</p>

<p>Decided to see what changed, I read the documentation of readline. It didn't help, because I was reading something from version 5. I, then, downloaded the source code and started looking for <code>SIGINT</code>. Then, perusing the code (and the changelog), I saw that with bash 4 and readline 6, a new configuration option was introduced: the <code>echo-control-characters</code> option of readline.</p>

<p>Of course, after knowing this, stopping the undesired behaviour was a simple matter of inserting "<code>set echo-control-characters off</code>" in my <code>.inputrc</code> and think about how much time I spent with that uncomfortable behaviour in some of my preferred tools.</p>

<p>﻿As an addendum to the previous paragraphs (written on February of this year, but only now published), the Debian package of <a href="http://www.gnu.org/software/emacs/NEWS.23.2">Emacs 23.2</a>, the newest version as of this writing, comes with some configuration that makes it ignore the settings that are used with fontconfig. I did not spend any time trying to see the cause of the problem, but adding a simple</p>

<pre>Emacs*font:            Mono
</pre>


<p>to my <code>.Xdefaults</code> file did the trick and restored back the ability to use DejaVu Sans Mono at the right size on my system.</p>

</div>





<div id="comments">

<div id="disqus_comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'digitaljunkyard'; // required: replace example with your forum shortname
    var discus_identifier = 'posts/changing-some-configuration-from-defaults';
    var disqus_url = 'http://rb.doesntexist.org/blog//posts/changing-some-configuration-from-defaults/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

</div>

</div>

<div id="footer" class="pagefooter">

<div id="pageinfo">




<div class="tags">
Tags:

<a href="../../tags/configuration/" rel="tag">configuration</a>

<a href="../../tags/debian/" rel="tag">debian</a>

<a href="../../tags/emacs/" rel="tag">emacs</a>

<a href="../../tags/hacks/" rel="tag">hacks</a>

<a href="../../tags/productivity/" rel="tag">productivity</a>

<a href="../../tags/readline/" rel="tag">readline</a>

</div>








<div class="pagedate">
Last edited <span class="date">2010-05-22T20:36:42 BRT</span>
<!-- Created <span class="date">2010-05-22T20:36:42 BRT</span> -->
</div>

</div>


<!-- from Rogério Brito's Digital Junkyard -->
</div>

</div>

</body>
</html>
