<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Migrate from RCS to git</title>

<link rel="stylesheet" href="../../style.css" type="text/css" />

<link rel="stylesheet" href="../../local.css" type="text/css" />





</head>
<body>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

<a href="../../">Rogério Brito's Digital Junkyard</a>/ 

<a href="../">posts</a>/ 

</span>
<span class="title">
Migrate from RCS to git

</span>
</span>

</div>


<div class="actions">
<ul>


<li><a href="../../recentchanges/">RecentChanges</a></li>








</ul>
</div>




</div>


<div class="sidebar">
<div><div class="calendar"><table class="month-calendar">
    <tr>
    <th class="month-calendar-arrow"><a href="../../archives/2011/01/" title="January">&larr;</a></th>
    <th class="month-calendar-head" colspan="5"><a href="../../archives/2011/02/" title="February">Feb 2011</a></th>
    <th class="month-calendar-arrow"><a href="../../archives/2011/03/" title="March">&rarr;</a></th>
    </tr>
    <tr>
        <th class="month-calendar-day-head Sunday" title="Sunday">S</th>
        <th class="month-calendar-day-head Monday" title="Monday">M</th>
        <th class="month-calendar-day-head Tuesday" title="Tuesday">T</th>
        <th class="month-calendar-day-head Wednesday" title="Wednesday">W</th>
        <th class="month-calendar-day-head Thursday" title="Thursday">T</th>
        <th class="month-calendar-day-head Friday" title="Friday">F</th>
        <th class="month-calendar-day-head Saturday" title="Saturday">S</th>
    </tr>
    <tr>
        <td class="month-calendar-day-noday Sunday">&nbsp;</td>
        <td class="month-calendar-day-noday Monday">&nbsp;</td>
        <td class="month-calendar-day-nolink Tuesday">1</td>
        <td class="month-calendar-day-nolink Wednesday">2</td>
        <td class="month-calendar-day-nolink Thursday">3</td>
        <td class="month-calendar-day-nolink Friday">4</td>
        <td class="month-calendar-day-nolink Saturday">5</td>
    </tr>
    <tr>
        <td class="month-calendar-day-nolink Sunday">6</td>
        <td class="month-calendar-day-nolink Monday">7</td>
        <td class="month-calendar-day-nolink Tuesday">8</td>
        <td class="month-calendar-day-nolink Wednesday">9</td>
        <td class="month-calendar-day-nolink Thursday">10</td>
        <td class="month-calendar-day-nolink Friday">11</td>
        <td class="month-calendar-day-nolink Saturday">12</td>
    </tr>
    <tr>
        <td class="month-calendar-day-nolink Sunday">13</td>
        <td class="month-calendar-day-nolink Monday">14</td>
        <td class="month-calendar-day-nolink Tuesday">15</td>
        <td class="month-calendar-day-nolink Wednesday">16</td>
        <td class="month-calendar-day-nolink Thursday">17</td>
        <td class="month-calendar-day-nolink Friday">18</td>
        <td class="month-calendar-day-nolink Saturday">19</td>
    </tr>
    <tr>
        <td class="month-calendar-day-nolink Sunday">20</td>
        <td class="month-calendar-day-nolink Monday">21</td>
        <td class="month-calendar-day-nolink Tuesday">22</td>
        <td class="month-calendar-day-nolink Wednesday">23</td>
        <td class="month-calendar-day-nolink Thursday">24</td>
        <td class="month-calendar-day-nolink Friday">25</td>
        <td class="month-calendar-day-this-day Saturday"><a href="../problems_with_chromium/" title="problems with chromium">26</a></td>
    </tr>
    <tr>
        <td class="month-calendar-day-future Sunday">27</td>
        <td class="month-calendar-day-nolink Monday">28</td>
        <td class="month-calendar-day-noday Tuesday">&nbsp;</td>
        <td class="month-calendar-day-noday Wednesday">&nbsp;</td>
        <td class="month-calendar-day-noday Thursday">&nbsp;</td>
        <td class="month-calendar-day-noday Friday">&nbsp;</td>
        <td class="month-calendar-day-noday Saturday">&nbsp;</td>
    </tr>
</table>
</div></div>

<p><a href="../../comments/">Recent Comments</a></p>

<p><a href="../../archives/">Archives</a></p>

<p><a href="../../tags/">Tags</a>:</p>

<ul class="list">
</ul>

</div>


<div id="pagebody">

<div id="content">
<p>I have been keeping my <a href="http://www.latex-project.org/">LaTeX</a> files under version control since I was introduced to <a href="http://www.gnu.org/software/auctex/">AUCTeX</a> and I realized that a good way to approach the "evolutionary" approach to software (this includes text) is to use a <a href="http://en.wikipedia.org/wiki/Revision_control">revision control system</a>.</p>

<p>I started using that with <a href="http://www.gnu.org/software/emacs/">Emacs</a> 21 (the first version of Emacs that I used was Emacs 19.something which I can't remember) and the revision system that was most easily available was <a href="http://www.gnu.org/software/rcs/">RCS</a>. Its integration with Emacs was very good and also easy to use: type <code>C-x v-v</code> and a check in is performed (or a check out, depending on the state of the file). You would be asked for a changelog for that file and that was it.</p>

<p>Now, on the other hand, there is a myriad of options and one that looks very nice to me (apart from not dealing with metadata, but that's OK with me for the moment) is Linus Torvald's <a href="http://git-scm.com/"><code>git</code></a>. The very nice thing with <code>git</code> (or many other such systems) is that the interface with Emacs is exactly the same: <code>C-x v-v</code>. That's the only thing you need to remember to work well with, say, your text project. (I don't actually know very much of the management workflow under Emacs, but I also use the command line a good amount and it serves me well so far).</p>

<p>But how can I convert my RCS "repositories" to a proper <code>git</code> repository? Well, git comes with a subcommand called <code>cvsimport</code>, meant to be used with CVS and this does help, since a CVS repository is essentially just a collection of RCS files. As many people have migrated along the path from RCS to CVS to Subversion to git, and I did not intend to convert the repository in multiple steps, I am documenting what I did here.</p>

<p>So, if you have the <code>,v</code> files that RCS generates (the "repository" files for each file tracked by RCS) spread in a tree and you would like to convert that tree to a git repository for replication, backup and "time machine-like" support, you can mimic a basic CVS repository that can be converted easily with the following simple steps:</p>

<ul>
    <li>Create a new directory hierarchy somewhere, denoted here by <code>cvs-source-dir</code>. This will play the role of a CVS repository which <code>git cvsimport</code> will convert.</li>
    <li>Under <code>cvs-source-dir</code>, create the directory tree as you would like it to be visible by <code>git</code>.</li>
    <li>As an immediate subdirectory of <code>cvs-source-dir</code>, create a directory named <code>CVSROOT</code>, that is <code>cvs-source-dir/CVSROOT</code>.</li>
    <li>Each immediate subdirectory of <code>cvs-source-dir</code> will play the role of a CVS module. Just think of that as a project under control of the version control system.</li>
    <li>Think about the <code>,v</code> files as your regular files and put them under the <code>cvs-source-dir</code> tree, as you would like them to be.</li>
    <li>Create the directory where your git repository will reside, denoted here by <code>git-repo</code>.</li>
    <li>Run <code>git cvsimport -v -a -A -k -m -d cvs-source-dir -C git-repo cvs-module</code></li>
</ul>

<p>That's it. It seems to perform a very good job of changing a very old system to something that is modern and with many features (and is distributed).</p>

<p>You may also want to read about the way to convert the ids of commits that RCS/CVS register to proper (people) names, which git uses. Read the <code>git-cvsimport</code> manpage for more details on this and other options mentioned above.</p>

</div>





</div>

<div id="footer" class="pagefooter">

<div id="pageinfo">


<div class="tags">
Tags:

<a href="../../tag/debian/" rel="tag">debian</a>

<a href="../../tag/emacs/" rel="tag">emacs</a>

<a href="../../tag/git/" rel="tag">git</a>

<a href="../../tag/hacks/" rel="tag">hacks</a>

<a href="../../tag/revision-control/" rel="tag">revision-control</a>

</div>








<div class="pagedate">
Last edited <span class="date">Thu 11 Feb 2010 05:39:37 AM BRST</span>
<!-- Created <span class="date">Thu 11 Feb 2010 05:39:37 AM BRST</span> -->
</div>

</div>


<!-- from Rogério Brito's Digital Junkyard -->
</div>

</div>

</body>
</html>
