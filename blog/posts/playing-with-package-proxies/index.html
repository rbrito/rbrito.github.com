<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<!-- MathJax -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- MathJax -->


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Playing with Package Proxies</title>

<link rel="stylesheet" href="../../style.css" type="text/css" />

<link rel="stylesheet" href="../../local.css" type="text/css" />




<meta name="date" content="2007-03-15 23:00:00" />


<!-- Analytics code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34541429-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>
<body>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

<a href="../../">Rogério Brito's Digital Junkyard</a>/

<a href="../">posts</a>/

</span>

<!-- Top ad -->
<script type="text/javascript"><!--
google_ad_client = "ca-pub-9817929118225956";
/* Horizontal ad unit */
google_ad_slot = "2816925222";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


<span class="title">
Playing with Package Proxies
<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-annotation="inline" data-width="300"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

</span>
</span>

</div>


<div class="actions">
<ul>


<li><a href="../../recentchanges/">RecentChanges</a></li>








</ul>
</div>






</div>



<div id="pagebody">

<div id="content">
<p>Have been playing with the great idea of <a
href="http://lists.debian.org/debian-mentors/2009/03/msg00210.html">caching</a>
<a href="http://lwn.net/Articles/318658/">deb</a> packages. I finally
settled for the option of using <code><a
href="http://git.debian.org/?p=pkg-ocaml-maint/packages/approx.git">approx</a></code>,
which does a really nice job of caching packages.</p>

<p>Actually, it fullfils quite a lot of requirements and even surpasses some of my expectations:</p>

<ul>
<li>It supports multiple architectures (in fact, this is important for me, as
I use <code>i386</code>, <code>amd64</code>, and <code>powerpc</code>.</li>
<li>It can support multiple distributions (both different versions of the same
distribution and completely different distributions, as long as they use a
repository like <a href="http://www.debian.org/">Debian</a>'s, as is the
case of <a href="http://www.ubuntu.com/">Ubuntu</a>).</li></li>
<li>It keeps its directory hierarchy neatly organized, like that of Debian, in
a package pool, which saves space and makes everything easier and faster
to find (and has the advantage of being fast with filesystems that don't
cope well with many entries in one directory).</li>
</ul>


<p>The transition wasn't painless from <a href="http://packages.debian.org/apt%2Dmove">apt-move</a>, since apt-move
moves the files, but renames them in a way that they don't keep epochs in
their names, which makes <code>approx-import</code> moan about the packages.</p>

<p>For places where I am too lazy to import the packages, I just filled the
cache redownloading the packages with something approximately like this:</p>

<pre><code>  apt-get -d --reinstall install $(dpkg -l | grep "^ii" | cut -d " " -f 3)
</code></pre>

<p>Well, I hope that this experience happens to be useful for other people, so
that they can benefit from it. Rebuilding packages with a package cacher is
much more pleasant, especially if the package has a lot of
build-dependencies.</p>

</div>





<div id="comments">

<div id="disqus_comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'digitaljunkyard'; // required: replace example with your forum shortname
    var discus_identifier = 'posts/playing-with-package-proxies';
    var disqus_url = 'http://rb.doesntexist.org/blog//posts/playing-with-package-proxies/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

</div>

</div>

<div id="footer" class="pagefooter">

<div id="pageinfo">




<div class="tags">
Tags:

<a href="../../tags/approx/" rel="tag">approx</a>

<a href="../../tags/apt-move/" rel="tag">apt-move</a>

<a href="../../tags/computers/" rel="tag">computers</a>

<a href="../../tags/debian/" rel="tag">debian</a>

<a href="../../tags/embedded/" rel="tag">embedded</a>

<a href="../../tags/linux/" rel="tag">linux</a>

<a href="../../tags/proxy/" rel="tag">proxy</a>

<a href="../../tags/ubuntu/" rel="tag">ubuntu</a>

</div>








<div class="pagedate">
Last edited <span class="date">2012-09-07T03:54:06 BRT</span>
<!-- Created <span class="date">2007-03-15T23:00:00 BRT</span> -->
</div>

</div>


<!-- from Rogério Brito's Digital Junkyard -->
</div>

</div>

</body>
</html>
