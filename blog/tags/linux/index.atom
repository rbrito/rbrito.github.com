<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom">
<title>pages tagged linux</title>
<link href="http://cynic.cc/blog//tags/linux/"/>
<link href="http://cynic.cc/blog//tags/linux/index.atom" rel="self" type="application/atom+xml"/>
<author>

<name>Rogério Brito's Digital Junkyard</name>

</author>




<id>http://cynic.cc/blog//tags/linux/</id>

<subtitle type="html">Rogério Brito&#39;s Digital Junkyard</subtitle>
<generator uri="http://ikiwiki.info/">ikiwiki</generator>
<updated>2017-11-03T01:14:12Z</updated>
<entry>
	<title>Comparison of JDK installation of various Linux distributions</title>

	<id>http://cynic.cc/blog//posts/2017-11-02_java_install_in_various_linuxes/</id>

	<link href="http://cynic.cc/blog//posts/2017-11-02_java_install_in_various_linuxes/"/>






	<category term="debian" />

	<category term="free-software" />

	<category term="java" />

	<category term="linux" />

	<category term="ubuntu" />


	<updated>2017-11-03T01:14:12Z</updated>
	<published>2017-11-03T01:13:56Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;Today I spent some time in the morning seeing how one would install the JDK
on Linux distributions. This is to create a little comparative tutorial to
teach introductory Java.&lt;/p&gt;

&lt;p&gt;Installing the JDK is, thanks to the OpenJDK developers in Debian and Ubuntu
(Matthias Klose and helpers), a very easy task. You simply type something
like:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-get install openjdk-8-jdk
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Since for a student it is better to have everything for experiments, I
install the &lt;a href=&quot;https://packages.debian.org/sid/openjdk-8-jdk&quot;&gt;full version&lt;/a&gt;, not only the
&lt;a href=&quot;https://packages.debian.org/sid/openjdk-8-jdk-headless&quot;&gt;&lt;code&gt;-headless&lt;/code&gt;&lt;/a&gt; version. Given my familiarity with
Debian/Ubuntu, I didn&#39;t have to think about the way of installing it, of
course.&lt;/p&gt;

&lt;p&gt;But as this is a tutorial meant to be as general as I can, I tried also to
include instructions on how to install Java on other distributions. The
first two that came to my mind were &lt;a href=&quot;https://www.opensuse.org/&quot;&gt;openSUSE&lt;/a&gt; and &lt;a href=&quot;https://getfedora.org/&quot;&gt;Fedora&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Both use the RPM package format for their &quot;native&quot; packages (in the same
sense that Debian uses DEB packages for &quot;native&quot; packages). But they use
different higher-level tools to install such packages: Fedora uses a tool
called &lt;a href=&quot;https://fedoraproject.org/wiki/DNF&quot;&gt;&lt;code&gt;dnf&lt;/code&gt;&lt;/a&gt;, while openSUSE uses &lt;a href=&quot;https://en.opensuse.org/SDB:Zypper_usage&quot;&gt;&lt;code&gt;zypper&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To try these distributions, I got their netinstall ISOs and used
&lt;code&gt;qemu&lt;/code&gt;/&lt;code&gt;kvm&lt;/code&gt; to install on a virtual machine. I used the following to
install/run the virtual machines (the example below, is, of course, for openSUSE):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;qemu-system-x86_64 -enable-kvm -m 4096 -smp 2 -net nic,model=e1000 -net user -drive index=0,media=disk,cache=unsafe,file=suse.qcow2 -cdrom openSUSE-Leap-42.3-NET-x86_64.iso
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The names of the packages also change from one distribution to another. On
Fedora, I had to use:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dnf install java-1.8.0-openjdk-devel
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;On openSUSE, I had to use:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;zypper install java-1_8_0-openjdk-devel
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Note that one distribution uses dots in the names of the packages while the
other uses underscores.&lt;/p&gt;

&lt;p&gt;One interesting thing that I noticed with &lt;code&gt;dnf&lt;/code&gt; was that, when I used it, it
automatically refreshed the package lists from the network, something which
I forgot, and it was a pleasant surprise. I don&#39;t know about &lt;code&gt;zypper&lt;/code&gt;, but I
guess that it probably had fresh indices when the installation finished.&lt;/p&gt;

&lt;p&gt;Both installations were effortless after I knew the names of the packages to
install.&lt;/p&gt;

&lt;p&gt;Oh, BTW, in my 5 minute exploration with these distributions, I noticed that
if you don&#39;t want the JDK, but only the JRE, then you omit the &lt;code&gt;-devel&lt;/code&gt;
suffix.  It makes sense when you think about it, for consistency with other
packages, but Debian&#39;s conventions also make sense (JRE with &lt;code&gt;-jre&lt;/code&gt; suffix,
JDK with &lt;code&gt;-jdk&lt;/code&gt; suffix).&lt;/p&gt;

&lt;p&gt;I failed miserably to use Fedora&#39;s prebaked, vanilla
&lt;a href=&quot;https://alt.fedoraproject.org/cloud/&quot;&gt;cloud image&lt;/a&gt;, as I couldn&#39;t login on this image and I decided
to just install the whole OS on a fresh virtual machine.&lt;/p&gt;

&lt;p&gt;I don&#39;t have instructions on how to install on &lt;a href=&quot;https://getfedora.org/&quot;&gt;Gentoo&lt;/a&gt; nor on
&lt;a href=&quot;https://www.archlinux.org/&quot;&gt;Arch&lt;/a&gt;, though.&lt;/p&gt;

&lt;p&gt;I now see how hard it is to cover instructions/provide software for as many
distributions as you wish, given the multitude of package managers,
conventions etc.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Partially switching to Chromium</title>

	<id>http://cynic.cc/blog//posts/2016-03-29_partially_switching_to_chromium/</id>

	<link href="http://cynic.cc/blog//posts/2016-03-29_partially_switching_to_chromium/"/>






	<category term="chromium" />

	<category term="debian" />

	<category term="firefox" />

	<category term="free-software" />

	<category term="linux" />


	<updated>2016-03-29T05:29:09Z</updated>
	<published>2016-03-29T05:25:15Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;In the interest of being as brief as possible (just ask for details if you
want to know more or if you think that it would help), I have started,
against my preferences, to start using chromium from Debian instead of
Firefox (aka, Iceweasel).&lt;/p&gt;

&lt;p&gt;The reason? I have a slow computer (a Core 2 Duo T7250). My main computer.
My workhorse.&lt;/p&gt;

&lt;p&gt;There are some sites that even with an empty profile and a vanilla Firefox
build right from Mozilla Foundation cause Firefox to generate a very heavy
CPU load.  I &lt;a href=&quot;https://twitter.com/rtdbrito/status/703098330629296128&quot;&gt;briefly reported this via Twitter&lt;/a&gt; to one (but not the
only!) of the &lt;a href=&quot;https://web.telegram.org/&quot;&gt;sites in question&lt;/a&gt; and to &lt;a href=&quot;https://www.fxsitecompat.com/&quot;&gt;Firefox Site Compatibility&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What do I see? Many CSS and redraw events (thanks to Firefox&#39;s profiling
tools). In fact, as many events that Firefox alone is able to completely
take over 1 (of the 2) cores that I have, with just that single tab open.&lt;/p&gt;

&lt;p&gt;I don&#39;t see those problems with Chromium, unfortunately (or, at least, they
are not that perceptible to my computer&#39;s CPU).&lt;/p&gt;

&lt;p&gt;So, before I go on and formally file a bug report, I would love to confirm
if other people see the same problems that I am seeing. Do you also see
something similar? Your input is highly welcome!&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Some new Youtube-dl functionality</title>

	<id>http://cynic.cc/blog//posts/2014-02-17-youtube-dl_news/</id>

	<link href="http://cynic.cc/blog//posts/2014-02-17-youtube-dl_news/"/>






	<category term="debian" />

	<category term="free-software" />

	<category term="linux" />

	<category term="multimedia" />

	<category term="python" />

	<category term="study" />


	<updated>2014-02-19T05:52:57Z</updated>
	<published>2014-02-17T21:27:00Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;I wrote in a &lt;a href=&quot;http://cynic.cc/blog//posts/2013-10-23-assorted_news/#youtube-dl&quot;&gt;previous post&lt;/a&gt; that
Youtube changed their way of delivering videos, with the use of
&lt;a href=&quot;https://en.wikipedia.org/wiki/Dynamic%20Adaptive%20Streaming%20over%20HTTP&quot;&gt;Dynamic Adaptive Streaming over HTTP&lt;/a&gt;.  On top of that, they
started serving both the audio and the video in separate streams, which
meant trouble for downloader tools like &lt;a href=&quot;http://youtube-dl.org/&quot;&gt;&lt;code&gt;youtube-dl&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As I mentioned in that previous post:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;What does this mean in practical terms for users of youtube-dl?  Well, if
  you wanted to download videos in resolutions like the 480p (format 35)
  that I mentioned, then you will probably have to change your way of doing
  things, until a more automated solution is in place.&lt;/p&gt;
  
  &lt;p&gt;You will have to download both the audio and the video and, then,
  &quot;combine&quot; them (that is, multiplex them) to create one &quot;normal&quot; video file
  with both the audio and the video.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;And latter, I wrote:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Otherwise, to download 480p videos (which I do for lectures and so on with
  other projects of mine, like edx-dl) I have to call youtube-dl twice: once
  for format 135 and another for format 140, since the old &lt;img src=&quot;http://cynic.cc/blog//smileys/question.png&quot; alt=&quot;(?)&quot; /&gt; format 35
  files are much smaller than the lower resolution 360p files (due to the
  former being encoded in High profile vs. the latter being encoded in
  Constrained Baseline profile).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;(...)&lt;/p&gt;

&lt;p&gt;Well, now, we don&#39;t have this problem anymore:&lt;/p&gt;

&lt;p&gt;The new release of &lt;code&gt;youtube-dl&lt;/code&gt; brings us many goodies, including that it is
possible to &lt;em&gt;automatically&lt;/em&gt; combine/merge/multiplex audio and video formats
that Youtube now offers separately (See the previous comments about separate
audio and video).&lt;/p&gt;

&lt;p&gt;Now, if you want a 480p video in H.264 format, High profile, with 128kbps
AAC audio (this used to be Youtube&#39;s format 35), you can specify format &lt;code&gt;-f
135+140&lt;/code&gt; on the command-line and it will download both the audio, the video
and multiplex it with &lt;code&gt;ffmpeg&lt;/code&gt; (or &lt;code&gt;avconv&lt;/code&gt;, depending on what you have
installed).&lt;/p&gt;

&lt;p&gt;Besides being convenient, this automatic downloading and merging makes it
unnecessary to write scripts to, say, retrieve all the videos in a playlist
that contains a lot of lectures (see &lt;a href=&quot;http://www.youtube.com/watch?v=EPQgeAz264g&amp;amp;list=PLA58AC5CABC1321A3&quot;&gt;one example here&lt;/a&gt;, taught by
&lt;a href=&quot;https://en.wikipedia.org/wiki/Benedict%20Gross&quot;&gt;Benedict Gross&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Version 2014.02.17 of &lt;code&gt;youtube-dl&lt;/code&gt; will be soon in your favorite mirror of
the Debian archives.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Miscellanea</title>

	<id>http://cynic.cc/blog//posts/2014-02-14_miscellanea/</id>

	<link href="http://cynic.cc/blog//posts/2014-02-14_miscellanea/"/>






	<category term="debian" />

	<category term="ffmpeg" />

	<category term="libav" />

	<category term="linux" />

	<category term="ubuntu" />


	<updated>2014-02-19T05:52:57Z</updated>
	<published>2014-02-15T02:59:22Z</published>


	<content type="html" xml:lang="en">
	&lt;h1 id=&quot;initsystem&quot;&gt;Init system&lt;/h1&gt;

&lt;p&gt;I am happy that Debian&#39;s Technical Committee was able to reach a very good
decision with the choice of systemd as the default init system for the Linux
ports.&lt;/p&gt;

&lt;p&gt;In particular, I was very pleasantly surprised by the lucidity of Russ
Allbery&#39;s analyses and, above all, his &lt;em&gt;patience&lt;/em&gt; even with people that, in
my understanding, were just being trolls or trying to cause confusion and
disrupt a process that was already chaotic.&lt;/p&gt;

&lt;p&gt;Russ, thank you for your exemplary role.&lt;/p&gt;

&lt;p&gt;(Also, you type fast or what? You fill whole e-mails seemingly faster than I
can read!)&lt;/p&gt;

&lt;h2 id=&quot;unexpectedunionofforces&quot;&gt;Unexpected union of forces&lt;/h2&gt;

&lt;p&gt;It seems to me that Mark Shutterworth&#39;s &lt;a href=&quot;http://www.markshuttleworth.com/archives/1316&quot;&gt;decision&lt;/a&gt; of (perhaps?)
embracing Debian&#39;s decision in the init system is a good thing.&lt;/p&gt;

&lt;p&gt;I think that one way where Ubuntu did a great thing with respect to Debian
was their initial attitude towards cherry-picking the best of breed of Free
Software from Debian&#39;s archive and polishing that to create a really &quot;for
human beings&quot; operating system.  I hope that this means that, at least in
part, money (Mark&#39;s?) can be channeled in the best of the interests so that
we all gain from it.&lt;/p&gt;

&lt;p&gt;(And, to be honest, I see no problem in making money with Free Software and
I welcome a well done integration job).&lt;/p&gt;

&lt;h1 id=&quot;morepolarizingthings&quot;&gt;More polarizing things&lt;/h1&gt;

&lt;p&gt;I feel that, now, I may even have some hope of sending another
&lt;a href=&quot;https://bugs.debian.org/729203&quot;&gt;potentially polarizing&lt;/a&gt; bug to the Tech Ctte (that is ffmpeg vs. libav)
and have faith that some rational decision would be made.&lt;/p&gt;

&lt;p&gt;I was not even aware of it, but the ffmpeg folks even
&lt;a href=&quot;http://www.ffmpeg.org/&quot;&gt;featured a news item in their page&lt;/a&gt; of me having filed the RFP bug
mentioned above.&lt;/p&gt;

&lt;h1 id=&quot;debconf14&quot;&gt;DebConf 14&lt;/h1&gt;

&lt;p&gt;If everything goes as expected, I hope to attend this year&#39;s DebConf.  In
fact, I am anticipating this, since I would love to, e.g., talk with Joey
Hess and discuss a better way of having &lt;a href=&quot;http://www.gnu.org/software/parallel/&quot;&gt;GNU parallel&lt;/a&gt; and the &lt;code&gt;parallel&lt;/code&gt;
program in &lt;a href=&quot;http://packages.debian.org/moreutils&quot;&gt;moreutils&lt;/a&gt; have amicable co-installability among many,
many other things with respect to my packages.&lt;/p&gt;

&lt;p&gt;And, quite probably, work on packaging ffmpeg with other interested people
(which seem to be numerous).&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Edit:&lt;/strong&gt; Fix markdown link pointing twice to the ffmpeg site. Thanks
Marius Gedminas for pointing this out.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Assorted random notes</title>

	<id>http://cynic.cc/blog//posts/2013-10-23-assorted_news/</id>

	<link href="http://cynic.cc/blog//posts/2013-10-23-assorted_news/"/>






	<category term="btrfs" />

	<category term="debian" />

	<category term="filesystem" />

	<category term="free-software" />

	<category term="linux" />

	<category term="music" />

	<category term="python" />

	<category term="study" />


	<updated>2013-11-06T17:36:48Z</updated>
	<published>2013-10-23T23:08:42Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;This post is just a bunch of random notes, but I think that things are going
well, this time.&lt;/p&gt;

&lt;h1 id=&quot;btrfs&quot;&gt;Btrfs&lt;/h1&gt;

&lt;p&gt;Just started playing with &lt;a href=&quot;https://en.wikipedia.org/wiki/btrfs&quot;&gt;btrfs&lt;/a&gt; after converting a 2TB disk
with about 1.3TB of data from &lt;a href=&quot;https://en.wikipedia.org/wiki/ext4&quot;&gt;ext4&lt;/a&gt; to btrfs.  This particular
filesystem contains my backup data and I hope that btrfs is able to live up
to high standards.&lt;/p&gt;

&lt;p&gt;I will probably write a detailed review with my impressions, but suffice to
say that it is working fine and I hope that I will be happy for a long time
to come. My other filesystems, for the moment, will be ext4.&lt;/p&gt;

&lt;h1 id=&quot;courseradownloader&quot;&gt;Coursera Downloader&lt;/h1&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://twitter.com/jplehmann&quot;&gt;John Lehmann&lt;/a&gt;&#39;s generosity, now &lt;code&gt;coursera-dl&lt;/code&gt; has a new home:
a &lt;a href=&quot;https://github.com/coursera-dl&quot;&gt;github organization&lt;/a&gt; of its own!&lt;/p&gt;

&lt;h1 id=&quot;youtube-dl&quot;&gt;youtube-dl&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/rg3/youtube-dl/issues/1612&quot;&gt;Some people may have noticed, others may not&lt;/a&gt;, but when downloading
videos from Youtube, they apparently are getting more aggressive with the
use of &lt;a href=&quot;https://en.wikipedia.org/wiki/Dynamic%20Adaptive%20Streaming%20over%20HTTP&quot;&gt;Dynamic Adaptive Streaming over HTTP&lt;/a&gt; (also called
DASH) and, as a result, some (perhaps going to be all in the near future?)
of the videos may not be available in the resolution/formats that you used
to like (like me, with format number 35).&lt;/p&gt;

&lt;p&gt;By the way, one thing that is interesting with youtube videos provided via
DASH is that they are available in different streams: one for the video and
another for the audio.&lt;/p&gt;

&lt;p&gt;What does this mean in practical terms for users of youtube-dl?  Well, if
you wanted to download videos in resolutions like the 480p (format 35) that
I mentioned, then you will probably have to change your way of doing things,
until a more automated solution is in place.&lt;/p&gt;

&lt;p&gt;You will have to download both the audio and the video and, then, &quot;combine&quot;
them (that is, multiplex them) to create one &quot;normal&quot; video file with both
the audio and the video. I usually do this via:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;
ffmpeg -i audio.m4a -i video.mp4 -vcodec copy -acodec copy combined.mp4
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you prefer having a Matroska container instead of an mp4 container
(which, BTW, results in &lt;em&gt;smaller&lt;/em&gt; muxing overhead), then you can use the
command line:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;
mkvmerge -o combined.mkv audio.m4a video.mp4
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Oh, those &lt;code&gt;m4a&lt;/code&gt; and &lt;code&gt;mp4&lt;/code&gt; extensions are a new addition that
&lt;a href=&quot;https://github.com/rg3/youtube-dl/pull/1622&quot;&gt;I just sent upstream&lt;/a&gt; (in the past, both would have been named with an
extension of &lt;code&gt;mp4&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;As, an aside, I like formats &lt;code&gt;135&lt;/code&gt; for video and &lt;code&gt;140&lt;/code&gt; for audio, for the
reasons that I mentioned in a comments to issue 1612:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Otherwise, to download 480p videos (which I do for lectures and so on with
  other projects of mine, like edx-dl) I have to call youtube-dl twice: once
  for format 135 and another for format 140, since the old &lt;img src=&quot;http://cynic.cc/blog//smileys/question.png&quot; alt=&quot;(?)&quot; /&gt; format 35
  files are much smaller than the lower resolution 360p files (due to the
  former being encoded in High profile vs. the latter being encoded in
  Constrained Baseline profile).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;While this is unfortunate for some, this is a good thing for others: I once
had a blind user of &lt;code&gt;youtube-dl&lt;/code&gt; asking me if he could avoid downloading the
whole video just to extract the audio, so that he save on bandwidth. Well,
now this is possible.&lt;/p&gt;

&lt;p&gt;Expect a new version of &lt;code&gt;youtube-dl&lt;/code&gt; to be uploaded soon to Debian unstable.&lt;/p&gt;

&lt;h1 id=&quot;music&quot;&gt;Music&lt;/h1&gt;

&lt;p&gt;It is so nice to see the music that I like getting better. It was
particularly pleasant to &lt;a href=&quot;https://youtu.be/hAnVFJFmFx8&quot;&gt;see&lt;/a&gt; &lt;a href=&quot;https://en.wikipedia.org/wiki/Tarja%20Turunen&quot;&gt;Tarja Turunen&lt;/a&gt; being joined
on stage by &lt;a href=&quot;https://en.wikipedia.org/wiki/Floor%20Jansen&quot;&gt;Floor Jansen&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In fact, it is my impression that the once female-fronted bands are getting
more and more into collaborations and side-projects and they are, in many
ways, getting more refined. Examples of this includes Floor, Tarja,
&lt;a href=&quot;https://en.wikipedia.org/wiki/Anneke%20van%20Giersbergen&quot;&gt;Anneke van Giersbergen&lt;/a&gt;, &lt;a href=&quot;https://en.wikipedia.org/wiki/Sharon%20den%20Adel&quot;&gt;Sharon den Adel&lt;/a&gt;,
&lt;a href=&quot;https://en.wikipedia.org/wiki/Kari%20Ruesl%C3%A5tten&quot;&gt;Kari Rueslåtten&lt;/a&gt; and many others that I can&#39;t remember right
now.&lt;/p&gt;

&lt;p&gt;Of course, some thanks to people that take the time to film, and
upload/share the videos so that other people not at these events can watch
them is highly appreciated and they usually are treated as anonymous, but,
of course, this should be fixed.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>SNA Acceleration vs. UXA Acceleration</title>

	<id>http://cynic.cc/blog//posts/sna_acceleration_vs_uxa/</id>

	<link href="http://cynic.cc/blog//posts/sna_acceleration_vs_uxa/"/>






	<category term="debian" />

	<category term="free-software" />

	<category term="linux" />

	<category term="video" />

	<category term="xorg" />


	<updated>2014-02-15T03:00:29Z</updated>
	<published>2013-08-21T16:44:19Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;Seeing as recent versions of Xorg have made it into Debian&#39;s testing (which
I am using right now, instead of my usual sid installations), I decided to
see what they would bring me in terms of performance, since they have the
SNA acceleration implemented as well as the standard UXA acceleration.&lt;/p&gt;

&lt;p&gt;Well, I did not have any other tests to perform, but below are the results
on my wife&#39;s laptop (a Core i5 2410M), when running &lt;a href=&quot;http://packages.debian.org/gtkperf&quot;&gt;gtkperf&lt;/a&gt;:&lt;/p&gt;

&lt;h1 id=&quot;withuxa&quot;&gt;With UXA&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;GtkPerf 0.40 - Starting testing: Mon Aug 12 20:33:20 2013

GtkEntry - time:  0.19
GtkComboBox - time:  5.36
GtkComboBoxEntry - time:  3.59
GtkSpinButton - time:  0.60
GtkProgressBar - time:  0.41
GtkToggleButton - time:  0.73
GtkCheckButton - time:  0.48
GtkRadioButton - time:  0.97
GtkTextView - Add text - time: 21.72
GtkTextView - Scroll - time:  2.29
GtkDrawingArea - Lines - time:  6.18
GtkDrawingArea - Circles - time:  6.74
GtkDrawingArea - Text - time:  4.32
GtkDrawingArea - Pixbufs - time:  0.67
 --- 
Total time: 54.25
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&quot;withsna&quot;&gt;With SNA&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;GtkPerf 0.40 - Starting testing: Mon Aug 12 20:36:58 2013

GtkEntry - time:  0.21
GtkComboBox - time:  4.86
GtkComboBoxEntry - time:  2.67
GtkSpinButton - time:  0.59
GtkProgressBar - time:  0.24
GtkToggleButton - time:  0.61
GtkCheckButton - time:  0.51
GtkRadioButton - time:  1.00
GtkTextView - Add text - time: 17.19
GtkTextView - Scroll - time:  1.84
GtkDrawingArea - Lines - time:  2.70
GtkDrawingArea - Circles - time:  2.65
GtkDrawingArea - Text - time:  1.72
GtkDrawingArea - Pixbufs - time:  0.11
 --- 
Total time: 36.91
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So, with SNA, the timing that I get are almost 2 times lower, which is
superb for a very simple &lt;code&gt;/etc/X11/xorg.conf&lt;/code&gt; config file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Section &quot;Device&quot;
        Identifier &quot;Intel Graphics&quot;
        Driver &quot;intel&quot;
        Option &quot;AccelMethod&quot; &quot;sna&quot;
EndSection
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I have not noticed any change, but if drawing graphics faster means that I
get a bit more of battery life, then I will be super happy. I still have not
tested if this works on my notebook with a Core2Duo T7250. Crossing my
fingers so that it does.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Lack of cooperation from Ubuntu?</title>

	<id>http://cynic.cc/blog//posts/lack_of_cooperation_from_ubuntu/</id>

	<link href="http://cynic.cc/blog//posts/lack_of_cooperation_from_ubuntu/"/>






	<category term="debian" />

	<category term="free-software" />

	<category term="kfreebsd" />

	<category term="linux" />

	<category term="ubuntu" />


	<updated>2013-06-05T08:25:51Z</updated>
	<published>2013-04-20T01:46:26Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;I &lt;a href=&quot;https://plus.google.com/117659222649141007981/posts/C2vY4nD4CD6&quot;&gt;posted the following on Google+&lt;/a&gt;, but it is important enough to be
reproduced on Planet. I&#39;m editing it a bit, as it is a followup to my
previous post.&lt;/p&gt;

&lt;p&gt;While &lt;a href=&quot;http://cynic.cc/blog/posts/debian_activities/&quot;&gt;improving the packaging of MongoDB&lt;/a&gt;, there was one thing that
caught my attention: that Ubuntu
&lt;a href=&quot;http://changelogs.ubuntu.com/changelogs/pool/universe/m/mongodb/mongodb_2.0.4-1ubuntu2.1/changelog&quot;&gt;had already done some of the embedded/convenience libraries work&lt;/a&gt;, but
they had &lt;em&gt;not&lt;/em&gt; pushed that work to Debian.&lt;/p&gt;

&lt;p&gt;Of course, discovered this only after I started working on the improvements
of the package.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What gives, Ubuntu people?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Another thing that I saw is that
&lt;a href=&quot;https://launchpad.net/ubuntu/+source/mongodb/1:2.2.4-0ubuntu1/+build/4470136&quot;&gt;they have patches enabling mongodb working on armhf&lt;/a&gt;. Again, they did
&lt;em&gt;not&lt;/em&gt; push those to Debian.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Why this lack of cooperation?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Another thing that I saw is that they had packages for version 2.2 (more
precisely, &lt;a href=&quot;http://packages.ubuntu.com/raring/mongodb&quot;&gt;raring has 1:2.2.4-0ubuntu1&lt;/a&gt;), while Debian sid
&lt;a href=&quot;http://packages.debian.org/changelogs/pool/main/m/mongodb/mongodb_2.4.1-2/changelog.html&quot;&gt;just had 2.0&lt;/a&gt; until very recently.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Why not push this work and avoid duplication of work?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;By being a good downstream, I intend to push some of the patches to MongoDB
upstream (if they want it), so that we (Debian) have a smaller delta. This
will benefit you Ubuntu guys. Why not join forces and help have a
world-class set of packages?&lt;/p&gt;

&lt;p&gt;Please, be good netizens and share the work that you have.  I firmly believe
that the armhf people will be happy to have one of the fancy &quot;cloud&quot;
software available on ARM, especially since the prospects of having ARM
machines on datacenters.&lt;/p&gt;

&lt;p&gt;Oh, just for the record, the
&lt;a href=&quot;https://github.com/rbrito/mongo-debian/pull/2&quot;&gt;kFreeBSD people have sent their contribution&lt;/a&gt; and I would love to see
(if possible) this running on the HURD.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Some recent Debian activities</title>

	<id>http://cynic.cc/blog//posts/debian_activities/</id>

	<link href="http://cynic.cc/blog//posts/debian_activities/"/>






	<category term="debian" />

	<category term="free-software" />

	<category term="linux" />


	<updated>2013-04-30T17:16:01Z</updated>
	<published>2013-04-19T07:29:23Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;I have been occasionally working on some Debian-related tasks.&lt;/p&gt;

&lt;h1 id=&quot;chrony&quot;&gt;Chrony&lt;/h1&gt;

&lt;p&gt;One of those was to get chrony is a slightly better shape, by using, at
least, a patch system (indeed, I &quot;modernized&quot; its packaging with the format
&quot;3.0 (quilt)&quot;), put it in &lt;a href=&quot;http://anonscm.debian.org/gitweb/?p=users/rbrito-guest/chrony.git&quot;&gt;a git repository&lt;/a&gt; and would like to receive some
comments on what I have so far.&lt;/p&gt;

&lt;p&gt;The bug &lt;a href=&quot;http://bugs.debian.org/694690&quot;&gt;Debian bug #694690&lt;/a&gt; contains a very brief description of my
intentions and of the problems that I see in the current package. IMVHO, it
is a very nice NTP client and server and it could even be used as the
default for Debian, once it gets in shape.  There is at least another
high-profile distribution, namely Fedora, that
&lt;a href=&quot;http://fedoraproject.org/wiki/Features/ChronyDefaultNTP&quot;&gt;switched to chrony as its default NTP software&lt;/a&gt;. We can certainly take a
look at what they are doing and join forces here.&lt;/p&gt;

&lt;h1 id=&quot;mongodb&quot;&gt;MongoDB&lt;/h1&gt;

&lt;p&gt;Another package where I spent some time was with &lt;a href=&quot;http://packages.qa.debian.org/mongodb&quot;&gt;mongodb&lt;/a&gt;:
MongoDB is a tricky package that is only built for 2 arches: amd64 and
i386.  The version in unstable for i386 was 2.0.x (roughly the same as for
wheezy), which the version in unstable for amd64 was 2.4.1, which has many
features that 2.0 lacks.&lt;/p&gt;

&lt;p&gt;The packaging of it is a bit tricky, since the source tree has bazillion
embedded/convenience libraries (e.g., Google&#39;s v8, Mozilla&#39;s spidermonkey,
BOOST, Google&#39;s Snappy, PCRE 3 etc.). Up to version 2.4.1-2, it used all
these convenience copies, which is of course, a problem for a distribution
like Debian.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://packages.qa.debian.org/m/mongodb/news/20130417T171917Z.html&quot;&gt;I changed&lt;/a&gt; part of the build process to use the libraries that we
already have in Debian and, as Antonin Kral uploaded this newer version,
unsurprisingly the binary packages are smaller (especially if you take into
account that a handful of the libraries may already be installed on the
system).&lt;/p&gt;

&lt;p&gt;A few hours later, Antonin uploaded a new upstream version, which means that
we now have better MongoDB packages to play with.  I am, in fact, really
playing with MongoDB as my first NoSQL database, since
&lt;a href=&quot;https://education.10gen.com/courses/10gen/M101/2012_Fall/about&quot;&gt;10gen is giving an introductory course&lt;/a&gt; on how it works and my
motivation was to get what we have in Debian in shape for the course.&lt;/p&gt;

&lt;p&gt;You can say that I am a firm believer of the &quot;eat your own dogfood&quot;
principle.&lt;/p&gt;

&lt;p&gt;Regarding MongoDB only being built for i386 and amd64, the BTS
&lt;a href=&quot;http://bugs.debian.org/703061&quot;&gt;has a patch&lt;/a&gt; to enable building for kFreeBSD, but the patch is for the
2.0 series and the code has changed so drastically in relation to the 2.4
series that there is no hope of it applying.  It would be super nice to have
MongoDB working on kFreeBSD and on HURD also, though.&lt;/p&gt;

&lt;h1 id=&quot;nocache&quot;&gt;nocache&lt;/h1&gt;

&lt;p&gt;There is a very nice command line program called &lt;code&gt;nocache&lt;/code&gt; that was packaged
by Dmitry Smirnov (and just approved by the FTP masters!) whose packaging I
briefly reviewed per Dmitry&#39;s request and this is an amazing utility whose
purpose is to bypass/minimize file system caching for a program.&lt;/p&gt;

&lt;p&gt;This is especially useful when you are making backups (reading lots of files
that would, otherwise, fill the filesystem cache, even if they are not used
frequently) or if you are just streaming one file (possibly larger than the
system&#39;s RAM) to another computer and you have no need to use the file
immediately after that.&lt;/p&gt;

&lt;p&gt;It performs its job by using the &lt;code&gt;LD_PRELOAD&lt;/code&gt; mechanism and using
&lt;code&gt;posix_fadvise&lt;/code&gt;&#39;s flag &lt;code&gt;POSIX_FADV_DONTNEED&lt;/code&gt; for the files that will be
touched.&lt;/p&gt;

&lt;h1 id=&quot;postnote&quot;&gt;Post note&lt;/h1&gt;

&lt;p&gt;Oh, just one aside: for the readers of Debian Planet and other aggregation
services which are not Debian Developers/Maintainers, I contributed to these
packages without being the maintainer of them, just scratching some itches
and contributing back what I produced.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Some experiences with ZFS</title>

	<id>http://cynic.cc/blog//posts/some_experiences_with_zfs/</id>

	<link href="http://cynic.cc/blog//posts/some_experiences_with_zfs/"/>






	<category term="compression" />

	<category term="debian" />

	<category term="debian-planet" />

	<category term="deduplication" />

	<category term="filesystems" />

	<category term="free-software" />

	<category term="linux" />

	<category term="zfs" />


	<updated>2012-09-09T02:48:33Z</updated>
	<published>2012-09-09T02:42:24Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;Continuing the &lt;a href=&quot;https://plus.google.com/117659222649141007981/posts/T3BcxA7wKjK&quot;&gt;ZFS evaluation journey&lt;/a&gt; (which I will summarize here with
the things that I learned), I was able to fit about 2.5TB of data on a
single 2TB drive, with deduplication enabled.&lt;/p&gt;

&lt;p&gt;Unfortunately, even &lt;em&gt;moving&lt;/em&gt; files around in ZFS (which you would think
would be a cheap operation) takes ages. Removing files also takes ages.&lt;/p&gt;

&lt;p&gt;In a &lt;em&gt;completely&lt;/em&gt; unloaded Phenom II X4 910 system running Linux 3.5.2
(actually, from Debian&#39;s experimental), and zfsonlinux version
0.6.0.71-0ubuntu1~precise1 (recompiled from source to work with my Debian
system), I tried to remove a subdirectory that had about 4000
files. According to time, it took:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;real    42m51.487s
user    0m0.188s
sys     0m16.769s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Which is a bit too slow.&lt;/p&gt;

&lt;p&gt;I just (read: &quot;yesterday&quot;) upgraded this machine from 4GB to 6GB of RAM
(well, I would have updated it to 8GB of RAM as that is what I ordered, but
it one of the RAM chips arrived dead here and I simply took one of the new
4GB card and one of the older 2GB card).&lt;/p&gt;

&lt;p&gt;But, honestly, I don&#39;t see change in upgrading the RAM from 4GB to 6GB and,
unless something magic happens with 2GB more, I wouldn&#39;t expect a whole
different story with 8GB of RAM. Oh, no swap is being used (well, it is an
unloaded machine after all), and the Linux kernel swappiness knob is at its
default of 60.&lt;/p&gt;

&lt;p&gt;What I &lt;em&gt;do&lt;/em&gt; see, though, is that even for a single file removal, the disk is
thrashing a lot. I mean &lt;em&gt;like&lt;/em&gt; crazy and that is, of course, the prime
suspect of the bad performance (of course, of course). So, there must be
some really crazy metadata churning going on here and I guess that the
people from the LLNL would like to know of their modules producing this
behavior.&lt;/p&gt;

&lt;p&gt;Keep tuned for some future impressions.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Installing Meego on the N900</title>

	<id>http://cynic.cc/blog//posts/installing_meego_on_the_n900/</id>

	<link href="http://cynic.cc/blog//posts/installing_meego_on_the_n900/"/>






	<category term="debian" />

	<category term="free-software" />

	<category term="linux" />

	<category term="meego" />

	<category term="n900" />


	<updated>2015-02-24T18:31:46Z</updated>
	<published>2011-07-03T06:55:50Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;My last cellphone was a dumb phone. I seem to remember that it was called
something like Samsung Voicer. It didn&#39;t have those hip things like SIM
cards.&lt;/p&gt;

&lt;p&gt;OK. Fast forward to December of 2010, and after a long hiatus, I decided to
get a new phone.  It was this shiny Nokia N900. The biggest thing that made
me want this one was that some people at DebConf 10 were praising it for
having a Debian-like distribution in it, and that it worked very well.&lt;/p&gt;

&lt;p&gt;I saw that Phil Hands was
&lt;a href=&quot;https://gallery.debconf.org/v/debconf10/album/album_004/41-20100801T020944.JPG.html&quot;&gt;enthusiastically talking about the bargain of getting one in New York&lt;/a&gt;
and that it would have cost him many pounds in the UK and, so, he was happy
with it.&lt;/p&gt;

&lt;p&gt;Otávio Salvador also got one in NY and during
&lt;a href=&quot;http://www.flickr.com/photos/tiagovaz/4870648124/in/set-72157624676953084&quot;&gt;one of the nights of that DebConf&lt;/a&gt; with him, Tiago Vaz, Daniel Baumann,
and Chris Lamb, I asked him to call my parents here in Brazil and he let me
use his N900. I had more time with it and played a little bit with the
command line, opened the stock media player and played a beautiful trailer
of &lt;a href=&quot;http://en.wikipedia.org/wiki/9_%282009_film%29&quot;&gt;9 (2009 film)&lt;/a&gt;, leaving me a very good impression.&lt;/p&gt;

&lt;p&gt;I bought one, and, indeed, it is a very good machine that can even make
phone calls. The ability to run Linux on it (even if it contains some
non-free pieces of software) was decisive in me getting it.  It runs this
distribution called &lt;a href=&quot;http://maemo.org/&quot;&gt;Maemo 5&lt;/a&gt; which is loosely based on Debian.&lt;/p&gt;

&lt;p&gt;But now, Maemo is not the &quot;cool thing&quot; to run, regarding Linux on these
portable devices. &lt;a href=&quot;http://wiki.meego.com/ARM/N900&quot;&gt;Meego&lt;/a&gt; is. But with the advent of many Internet forums
has brought many people writing some long, convoluted howto documents for
things that would be better done as, say, providing a script or, better yet,
preparing a package.&lt;/p&gt;

&lt;p&gt;In the case of getting Meego running on the N900, only three things are
required:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Install &lt;code&gt;uboot-pr13&lt;/code&gt; while in Maemo.&lt;/li&gt;
&lt;li&gt;Uncompress the &lt;a href=&quot;http://repository.maemo.org/meego/n900-de/archive/1.2.0.90.6.20110630.4.DE.2011-07-01.1/images/mg-handset-armv7nhl-n900-ce-stable/&quot;&gt;MeeGo 1.2 Community Edition for Nokia N900&lt;/a&gt; image to a
µSD card.&lt;/li&gt;
&lt;li&gt;Turn the phone off, plug in the µSD card, and &lt;strong&gt;PUT THE BACK COVER&lt;/strong&gt; on
the phone.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The last bit of the third step is crucial, as, otherwise, the SD card won&#39;t
be detected and you will get kernel panics with the device trying to mount
the root filesystem from a device that is not there.&lt;/p&gt;

&lt;p&gt;As an aside, the official documentation tells us one should uncompress the
available pre-made images and write them with &lt;code&gt;dd&lt;/code&gt; to the device. In my
experience, it is completely unnecessary to use it and, in fact, it is so 6
times slower than using a simple shell redirection. That is, instead of:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bzip2 -d &amp;lt; mg-handset-armv7nhl-n900-whateverwhatever-mmcblk0p.raw.bz2 | dd bs=4096 of=/dev/mmcblk0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;you can get better results with the simpler:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bzip2 -d &amp;lt; mg-handset-armv7nhl-n900-whateverwhatever-mmcblk0p.raw.bz2 &amp;gt; /dev/mmcblk0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I actually used &lt;a href=&quot;http://packages.debian.org/sid/lbzip2&quot;&gt;lbzip2&lt;/a&gt; instead of bzip2, but that shouldn&#39;t matter. The use
of the small block size for the &lt;code&gt;dd&lt;/code&gt; command is probably the culprit, but I
don&#39;t see the need to write the uncompressed data in chunks this small. If
there is a problem, I would love to be informed of that.&lt;/p&gt;

&lt;p&gt;As trying it with &lt;code&gt;uboot&lt;/code&gt; and a µSD card doesn&#39;t mess with your &quot;safe&quot; Maemo
installation, this is a good way to play with the successor of Maemo.
Perhaps, if we give good feedback to the project, we can influence the
direction that it is taking.&lt;/p&gt;

&lt;p&gt;It will surely be nice to learn about this new &quot;consumer-oriented&quot;
distribution.&lt;/p&gt;

	</content>



</entry>

</feed>
