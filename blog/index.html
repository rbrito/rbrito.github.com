<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Rogério Brito's Digital Junkyard</title>

<link rel="stylesheet" href="style.css" type="text/css" />

<link rel="stylesheet" href="local.css" type="text/css" />


<link rel="alternate" type="application/rss+xml" title="Rogério Brito's Digital Junkyard (RSS feed)" href="index.rss" /><link rel="alternate" type="application/atom+xml" title="Rogério Brito's Digital Junkyard (Atom feed)" href="index.atom" />


</head>
<body>

<div class="page">

<div class="pageheader">
<div class="header">
<span>
<span class="parentlinks">

</span>
<span class="title">
Rogério Brito's Digital Junkyard

</span>
</span>

</div>


<div class="actions">
<ul>


<li><a href="./recentchanges/">RecentChanges</a></li>








</ul>
</div>




</div>


<div class="sidebar">
<div><div class="calendar"><table class="month-calendar">
    <tr>
    <th class="month-calendar-arrow"><a href="./archives/2011/03/" title="March">&larr;</a></th>
    <th class="month-calendar-head" colspan="5"><a href="./archives/2011/04/" title="April">Apr 2011</a></th>
    <th class="month-calendar-arrow"><a href="./archives/2011/05/" title="May">&rarr;</a></th>
    </tr>
    <tr>
        <th class="month-calendar-day-head Sunday" title="Sunday">S</th>
        <th class="month-calendar-day-head Monday" title="Monday">M</th>
        <th class="month-calendar-day-head Tuesday" title="Tuesday">T</th>
        <th class="month-calendar-day-head Wednesday" title="Wednesday">W</th>
        <th class="month-calendar-day-head Thursday" title="Thursday">T</th>
        <th class="month-calendar-day-head Friday" title="Friday">F</th>
        <th class="month-calendar-day-head Saturday" title="Saturday">S</th>
    </tr>
    <tr>
        <td class="month-calendar-day-noday Sunday">&nbsp;</td>
        <td class="month-calendar-day-noday Monday">&nbsp;</td>
        <td class="month-calendar-day-noday Tuesday">&nbsp;</td>
        <td class="month-calendar-day-noday Wednesday">&nbsp;</td>
        <td class="month-calendar-day-noday Thursday">&nbsp;</td>
        <td class="month-calendar-day-nolink Friday">1</td>
        <td class="month-calendar-day-this-day Saturday"><a href="./posts/running_grub2_on_powerpc_macs/" title="running grub2 on powerpc macs">2</a></td>
    </tr>
    <tr>
        <td class="month-calendar-day-future Sunday">3</td>
        <td class="month-calendar-day-nolink Monday">4</td>
        <td class="month-calendar-day-nolink Tuesday">5</td>
        <td class="month-calendar-day-nolink Wednesday">6</td>
        <td class="month-calendar-day-nolink Thursday">7</td>
        <td class="month-calendar-day-nolink Friday">8</td>
        <td class="month-calendar-day-nolink Saturday">9</td>
    </tr>
    <tr>
        <td class="month-calendar-day-nolink Sunday">10</td>
        <td class="month-calendar-day-nolink Monday">11</td>
        <td class="month-calendar-day-nolink Tuesday">12</td>
        <td class="month-calendar-day-nolink Wednesday">13</td>
        <td class="month-calendar-day-nolink Thursday">14</td>
        <td class="month-calendar-day-nolink Friday">15</td>
        <td class="month-calendar-day-nolink Saturday">16</td>
    </tr>
    <tr>
        <td class="month-calendar-day-nolink Sunday">17</td>
        <td class="month-calendar-day-nolink Monday">18</td>
        <td class="month-calendar-day-nolink Tuesday">19</td>
        <td class="month-calendar-day-nolink Wednesday">20</td>
        <td class="month-calendar-day-nolink Thursday">21</td>
        <td class="month-calendar-day-nolink Friday">22</td>
        <td class="month-calendar-day-nolink Saturday">23</td>
    </tr>
    <tr>
        <td class="month-calendar-day-nolink Sunday">24</td>
        <td class="month-calendar-day-nolink Monday">25</td>
        <td class="month-calendar-day-nolink Tuesday">26</td>
        <td class="month-calendar-day-nolink Wednesday">27</td>
        <td class="month-calendar-day-nolink Thursday">28</td>
        <td class="month-calendar-day-nolink Friday">29</td>
        <td class="month-calendar-day-nolink Saturday">30</td>
    </tr>
</table>
</div></div>

<p><a href="./comments/">Recent Comments</a></p>

<p><a href="./archives/">Archives</a></p>

<p><a href="./tags/">Tags</a>:</p>

<ul class="list">
<li><span class="smallestPC"><a href="./tags/about/">about</a></span>
</li><li><span class="smallestPC"><a href="./tags/audio/">audio</a></span>
</li><li><span class="smallestPC"><a href="./tags/browsers/">browsers</a></span>
</li><li><span class="smallestPC"><a href="./tags/bugs/">bugs</a></span>
</li><li><span class="smallestPC"><a href="./tags/c++/">c++</a></span>
</li><li><span class="smallestPC"><a href="./tags/configuration/">configuration</a></span>
</li><li><span class="smallestPC"><a href="./tags/debian/">debian</a></span>
</li><li><span class="smallestPC"><a href="./tags/development/">development</a></span>
</li><li><span class="smallestPC"><a href="./tags/documents/">documents</a></span>
</li><li><span class="smallestPC"><a href="./tags/emacs/">emacs</a></span>
</li><li><span class="smallestPC"><a href="./tags/embedded/">embedded</a></span>
</li><li><span class="smallestPC"><a href="./tags/extensions/">extensions</a></span>
</li><li><span class="smallestPC"><a href="./tags/fonts/">fonts</a></span>
</li><li><span class="smallestPC"><a href="./tags/free-software/">free-software</a></span>
</li><li><span class="smallestPC"><a href="./tags/git/">git</a></span>
</li><li><span class="smallestPC"><a href="./tags/hacks/">hacks</a></span>
</li><li><span class="smallestPC"><a href="./tags/kernel/">kernel</a></span>
</li><li><span class="smallestPC"><a href="./tags/kurobox/">kurobox</a></span>
</li><li><span class="smallestPC"><a href="./tags/launchpad/">launchpad</a></span>
</li><li><span class="smallestPC"><a href="./tags/libraries/">libraries</a></span>
</li><li><span class="smallestPC"><a href="./tags/linux/">linux</a></span>
</li><li><span class="smallestPC"><a href="./tags/multimedia/">multimedia</a></span>
</li><li><span class="smallestPC"><a href="./tags/opentype/">opentype</a></span>
</li><li><span class="smallestPC"><a href="./tags/pdf/">pdf</a></span>
</li><li><span class="smallestPC"><a href="./tags/people/">people</a></span>
</li><li><span class="smallestPC"><a href="./tags/powerpc/">powerpc</a></span>
</li><li><span class="smallestPC"><a href="./tags/productivity/">productivity</a></span>
</li><li><span class="smallestPC"><a href="./tags/programming/">programming</a></span>
</li><li><span class="smallestPC"><a href="./tags/readline/">readline</a></span>
</li><li><span class="smallestPC"><a href="./tags/revision-control/">revision-control</a></span>
</li><li><span class="smallestPC"><a href="./tags/surgery/">surgery</a></span>
</li><li><span class="smallestPC"><a href="./tags/tex/">tex</a></span>
</li><li><span class="smallestPC"><a href="./tags/typography/">typography</a></span>
</li><li><span class="smallestPC"><a href="./tags/ubuntu/">ubuntu</a></span>
</li><li><span class="biggestPC"><a href="./tags/uncategorized/">uncategorized</a></span>
</li><li><span class="smallestPC"><a href="./tags/video/">video</a></span>
</li><li><span class="smallestPC"><a href="./tags/web-of-trust/">web-of-trust</a></span>
</li><li><span class="smallestPC"><a href="./tags/xetex/">xetex</a></span>
</li></ul>

</div>


<div id="pagebody">

<div id="content">
<div  class="feedlink">

<a class="feedbutton" type="application/rss+xml" rel="alternate" title="Rogério Brito's Digital Junkyard (RSS feed)" href="index.rss">RSS</a>


<a class="feedbutton" type="application/atom+xml" rel="alternate" title="Rogério Brito's Digital Junkyard (Atom feed)" href="index.atom">Atom</a>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/running_grub2_on_powerpc_macs/">Running GRUB2 on PowerPC Macs</a>

</span>
</div>

<div class="inlinecontent">
<p>Here I write a little bit about my experiences running GRUB2 with a PowerPC
Mac (actually, an iBook G4), since the current documentation is lacking in
many places (outdated, incorrect, etc.).</p>

<p>Some of what I say is platform agnostic, though, and may be of interest to
users of GRUB in general.</p>

<h1 id="basicsusinggrub2withpowerpc">Basics using GRUB2 with PowerPC</h1>

<p>First of all, it is important to understand (at least superficially) how
botting on a Mac works.</p>

<p>One of the first programs that run in your Mac is the OpenFirmware. It works
with more or less the same purpose of a BIOS in a regular x86 system. The
basic idea is the same: get the computer running with whatever programs you
want it to run. The implementation, though, differs quite a bit.</p>

<p>First of all, OpenFirmware (OF) usually presents itself as a command-line
interface that is programmable, differently from the common day BIOSes from
x86 boxes. As it is programmable, it is more flexible, but this flexibility
comes at the price of an increased complexity.</p>

<p>I may write some things more in a future article, if there is any
interest.</p>

<p>For now, it just suffices to say that to get to the OF prompt in a Mac, you
have to press a combination keys during the time that your Mac gives a chime
when you turn it on. At that moment, you have to press (simulaneously) Cmd +
Option + O + F. (Note: the Cmd key is the key that has an Apple drawn on it,
usually on the side of the space bar).</p>

<h1 id="limitationsofopenfirmware">Limitations of Open Firmware</h1>

<p>Differently from usual BIOSes of x86 computers, Open Firmware <em>can</em> read the
contents of a partition in your HD (or other devices), as long as it is
formatted in the original HFS format (<em>not</em> in HFS+ or one of its
descendents).</p>

<p>This is the reason why some older versions of Linux create an HFS partition
in your HD, even if you don't intent to run or use anything besides Linux.
The <code>yaboot</code> bootloader consists of, among other things, one binary that is
understandable by OpenFirmware. That binary is a file called <code>yaboot</code>, after
the name of the booloader.</p>

<p>As an aside, you have to indicate to OF what is the file that you want it to
load during the boot process, so that it knows what to do. The way to
indicate this is to "bless" the file (and the folder that contains it).
Some ways to bless a file are to, for example, use the <code>bless</code> command in
MacOS X or the <code>hattrib -b</code> command from hfsutils.</p>

<p>Files in an HFS filesystem have two attributes that many other filesystems
don't: a creator ID (the "application" that created the file) and the type
ID (which determines what kind of file it is).</p>

<p>OpenFirmware, in particular, looks for files with the type <code>tbxi</code> for the
bootstrap process.</p>

<p>The <code>yaboot</code> binary is loaded by OF into memory and, then, control is passed
to the yaboot program, which then reads its configuration file
(<code>yaboot.conf</code>) from the same folder where the binary was in. The file
<code>yaboot.conf</code> contains instructions for yaboot to do its job. The file
yaboot.conf is <em>very</em> similar in construction to configurations of an older
bootloader for x86 computers, <code>lilo.conf</code>.</p>

<p>Also, in a way similar to what LILO requires, after you install some new
kernel, change some parameter in the configuration file, etc., you have to
run a program that will set up everything so that the boot process can know
of your new configuration. With LILO, this command was called <code>lilo</code>, while
with yaboot the command is called <code>ybin</code> (which, essentially, takes care of
putting <code>yaboot.conf</code> in the bootstrap/HFS partition and blesses the
<code>yaboot</code> binary).</p>

<h1 id="goingtogrub2">Going to GRUB2</h1>

<p>One of the characteristics of yaboot (which is left as an exercise to the
reader to determine if it is a drawback or not) is exactly the way that
changes in the configuration have to be copied to the special HFS partition:
the step of running <code>ybin</code>.</p>

<p>GRUB2 (and its older sibling, GRUB legacy) do away with that: during
boot-time, it can understand the filesystems that you have in your computer
and interactively load whatever you want from there, also from a
command-line like OF, before any (regular) operating system has even been
started.</p>

<p>But how do you <em>start</em> GRUB2? Well, the way that this is performed is
copying a binary to that special HFS partition. Here things start to be
hairy, because GRUB2 has a lot of functionality, but it comes at the price
of it consuming a lot of space (especially if you are using encrypted
partitions or some kind of logical volume managements with some journalling
filesystem that allows files to be compressed etc. on top of it).  The list
goes on.</p>

<p>Usually, that special HFS partition only has 800KB, which, BTW, is the size
of an old 3.5" floppy used with older Macs (note: due to some contraints on
partitions and aligments of such partitions on cylinders, it is not uncommon
for disk partitioning software to create partitions slighly larger than
800KB, but <em>not</em> much larger than that).</p>

<p>A full-featured binary of GRUB2 to be placed on that HFS partition can have
much more than those 800KB. But how do you get that binary, in the first
place? And how do you fit that in the HFS partition?</p>

<h2 id="creatingthegrub2binary">Creating the GRUB2 binary</h2>

<p>To answer the first question, you have to construct it from your
<code>grub-ieee1275</code> package (I'm assuming here that you are using Debian or
Ubuntu, but similar instructions may apply to other distributions). Then, a
first step would be to create such binary with:</p>

<pre><code> mkdir /tmp/foo
 cd /tmp/foo
 cp -a /usr/lib/grub/powerpc-ieee1275/* .
 grub-mkimage -O powerpc-ieee1275 -o ../grub.img *.mod
</code></pre>

<p>The last command of these create an executable named <code>grub.img</code> that is
callable from OF and which contains every module from <code>grub-ieee1275</code>.  This
executable that I call here <code>grub.img</code> is called, in GRUB2 parlance,
<em>the core image</em> and it it seems to be named <code>core.img</code> in many systems.</p>

<p>On my system, with those commands, the binary <code>grub.img</code> is about 1208KB,
which is 50% larger than that 800KB partition. And you would like it to be
<em>much</em> smaller, becase you want to still have your <code>yaboot</code> bootloader by
default while you are evaluating your bootloaders (or using it as a backup
plan).</p>

<p>As GRUB2 follow a modular design, you can mix and match the features that
you want. This already hints you to the way we can fit it in the HFS
partition, and it is always the same story: just trim the fat.</p>

<h2 id="creatingtheconfigurationfile">Creating the configuration file</h2>

<p>You will also have to have GRUB2 configuration's file (or you will have to
play with way more commands than you'd want to). An important distinction
here is that you usually have 2 or more partitions on your Mac:</p>

<ul>
<li>the special bootstrap/HFS partition where OF is going to look at (I'll
call it <code>/dev/hda2</code> here);</li>
<li>the partition where your <code>/</code> filesystem resides (denoted by <code>/dev/hda3</code>
here);</li>
<li>some partition to hold <code>/boot</code> (I don't have one of these, but let's say
that it is <code>/dev/hda7</code> for our discussion purposes), usually containing
your kernels and initial ramdisks.</li>
<li>other partitions.</li>
</ul>

<p>With this in mind, you can With Let's say that this last one, in Linux
parlance, is <code>/dev/hda3</code> (as is the case of this author), and optionally a
partition where your Linux kernel resides (people usually use it to store
the <code>/boot</code> subtree of a Linux filesystem). Let's say that this last one is
<code>/dev/hda7</code>.</p>

<p>Then, you would compose something like the following as a configuration file
for GRUB2 (named <code>grub.cfg</code>):</p>

<pre><code>insmod part_apple
insmod ext2
set root='(hd,apple7)'

menuentry "Linux" {
    linux /vmlinux root=/dev/hda3
    initrd /initrd
}
</code></pre>

<p>There are one two important points here that deserve more comments:</p>

<ul>
<li><p>Note that, <strong>differently</strong> from a regular x86 system, in a Mac system with
only one HD the way that you specify an HD does <em>not</em> have a trailing
zero. For instance, in the case above of the variable <code>root</code>, we have
<code>(hd,apple7)</code>, while in a "common PC" we would have the <code>(hd</code> part
replaced with <code>(hd0</code>.</p>

<p>That's something that you should make your distribution aware of, if they
aren't yet.</p>

<p>As an addendum, I don't know how it works with systems with more than one
HD, as I only have (PowerPC) Macs that are notebooks. If you can share any
experiences, please do.</p></li>
<li><p>One point of caution here: what GRUB2 calls <code>root</code> is not necessarily the
root of your filesystem (i.e., the partition that holds <code>/</code>), but the
<em>device</em> that everything that is "not fully qualified" is interpreted as
being relative to.</p>

<p>The "not fully qualified" above means anything that is not prefixed with
<a href="http://www.gnu.org/software/grub/manual/grub.html#Device-syntax">GRUB's device notation</a>.
As an example, <code>(hd,apple2)/boot/vmlinux</code> if fully qualified for GRUB's
purpose, while <code>/boot/vmlinux</code> is not.</p></li>
</ul>

<h2 id="puttingitalltogether">Putting it all together</h2>

<p>The next step is to just copy the files <code>grub.img</code> and <code>grub.cfg</code> to the
special HFS partition. You can do that using <code>hmount</code>, <code>hcopy</code>, and
<code>humount</code> or you can use the regular Linux <code>hfs</code> module to copy to that
partition.</p>

<p>Then, boot your system, get into the OF prompt and execute:</p>

<pre><code>boot hd:2,grub.img
</code></pre>

<p>Here, the <code>2</code> above is a reference to my HFS partition. Substitute that with
yours, appropriately. You will then see the common (familiar?) GRUB prompt
and, from there, everything else that you know will (hopefully) work.</p>

<h1 id="thelistofmodulesthatworksformetm">The list of modules that "Works for Me(TM)"</h1>

<p>As I mentioned above, I use a subset of all modules that come with
<code>grub-ieee1275</code> to create my <code>grub.img</code> binary. Here is the list of modules
that I use and that gives me a reasonably sized bootloader:</p>

<pre><code>bitmap.mod        datehook.mod  gzio.mod         lsmmap.mod      reboot.mod          terminal.mod
bitmap_scale.mod  datetime.mod  halt.mod         memdisk.mod     regexp.mod          test.mod
blocklist.mod     echo.mod      help.mod         memrw.mod       relocator.mod       trig.mod
boot.mod          elf.mod       hexdump.mod      minicmd.mod     scsi.mod            true.mod
bufio.mod         ext2.mod      hfs.mod          msdospart.mod   search.mod          video.mod
cat.mod           fat.mod       hfsplus.mod      normal.mod      search_fs_file.mod  video_fb.mod
cmp.mod           font.mod      ieee1275_fb.mod  part_apple.mod  search_fs_uuid.mod  videoinfo.mod
configfile.mod    fshelp.mod    linux.mod        part_msdos.mod  search_label.mod
cpio.mod          gettext.mod   loadenv.mod      parttool.mod    setjmp.mod
crypto.mod        gfxmenu.mod   loopback.mod     probe.mod       sleep.mod
date.mod          gfxterm.mod   ls.mod           read.mod        suspend.mod
</code></pre>

<p>Just for the record, my <code>grub.img</code> file has 624KB, and that can certainly be
shrunk.</p>

<h1 id="thecommandlinethatworksformetmtocreatetheimage">The command line that "Works for Me(TM)" to create the image</h1>

<p>Actually, I lied when I told you that I used the lines above to create my
<code>grub.img</code> file, because I'm lazy and I don't want to type the <code>.img</code>
extension. I also <em>embed</em> my configuration file in the binary that I create
with GRUB2, so that I don't have two files to copy to my HFS partition, but
only one. I do that with:</p>

<pre><code>grub-mkimage -c grub.cfg -o ../grub -O powerpc-ieee1275 -d . *.mod
</code></pre>

<p>OK. No more lies here.</p>

<p>The nice aspect of GRUB is that one you install that image, you don't have
to touch that HFS partition anymore: you simply update your regular
filesystem's <code>/boot/grub/grub.cfg</code> file (which is usually performed when you
install a new kernel, at least with Debian) and you're ready to go.</p>

<p>The good way to do that is to use a minimal configuration file embedded in
your <code>grub</code> binary in your HFS partition that will hook into the system's
<code>/boot/grub/grub.cfg</code> to read newer kernels and leave the HFS partition (and
your system's NVRAM) alone.</p>

<p>Here is what I am using right now:</p>

<pre><code>search --no-floppy --fs-uuid --set=root 35d26869-f7c9-4852-a9b8-100314560c34
set prefix=(&#036;root)/boot/grub
configfile /boot/grub/grub.cfg
</code></pre>

<p>You will, of course, want to modify the file above as you install newer
kernels (perhaps even that unsupported operating system from that fruity
company, who knows?). Don't forget to change the UUID's, and partition
numbers to fit your needs.</p>

<p>Well, that's it. I hope that it helps somebody out there, as the information
that I got otherwise was way outdated, incomplete, etc. to keep up with
GRUB2 from these days. Now, let's go patch the tools that we have so that
not everybody who wants to use GRUB2 have to learn about its workings.</p>

<p>Oh, of course, you can now have your kernels in ext4, btrfs, xfs
etc. partitions without the fear that your bootloader won't load them.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Sat 02 Apr 2011 10:18:12 PM BRT</span>
</span>









</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/some_solutions_with_chromium/">(Some) Solutions with Chromium</a>

</span>
</div>

<div class="inlinecontent">
<p>In <a href="./posts/problems_with_chromium/">my previous post</a>, I was pointing out some of
my frustrations with Chromium/Chrome.  A very kind reader, Timo Juhani
Lindfors, gave me answers to many of the problems that I pointed out and got
me straight on some issues:</p>

<blockquote>
  <ul>
  <li>I can disable full zoom in Iceweasel (i.e., I only want to zoom the text,
  not the images). According to Chromium's project BTS, it seems that this
  will be a <code>WONTFIX</code> bug, despite many people asking for it (and it having
  a lot of duplicates).</li>
  </ul>
</blockquote>

<p>Timo told me that there is an extension called <a href="https://chrome.google.com/webstore/detail/ombpcpigmndepfckcifdblemkabaoihk">"Font Size Increase"</a>
(ID: ombpcpigmndepfckcifdblemkabaoihk) that adds a button on the side of the
URL bar that you can click to increase the size of the text, without
affecting the size of the images. Highly recommended.</p>

<p>Not that I need this one as much as "Font Size Increase", but there is also
a <a href="https://chrome.google.com/webstore/detail/mpajngnpcmjjeoflljdjpnehcfaldcia">"Font Size Decrease"</a> (ID: mpajngnpcmjjeoflljdjpnehcfaldcia) that,
as the name implies, decreases the size of the text. It is nice to have this
one when you clicked on the button to increase the size of the font one or
two times too many.</p>

<blockquote>
  <ul>
  <li>In Iceweasel, I have a way (without resorting to many extensions or
  hackish solutions) to use the equivalent of Firefox's "View &gt; Page Style &gt;
  No Style" (i.e., to ignore any CSS sheet that the document author may have
  specified on the page).</li>
  </ul>
</blockquote>

<p>Timo also told me that there is a very cool extension called
<a href="https://chrome.google.com/webstore/detail/ddpkgkegfklikkmfmneldonhldahhacb">"Chrome Page Style"</a> (ID: ddpkgkegfklikkmfmneldonhldahhacb) that
allows you to alternate between stylesheets provided by the page (see Joey
Hess's <a href="http://ikiwiki.info/css_market/">ikiwiki's CSS Market</a> for an example of that).</p>

<p>It also has the possibility of disabling all the CSS'es that a page may
have, which, in many cases around the web <em>actually improves</em> the
readability of the pages, for many "fancy" things detract from readability,
especially if you have poor eyesight.</p>

<p>Although I had said that I didn't want to resort to extensions, this was a
simple solution enough that made me consider revisit my requirements.  I do,
though, wonder why some frequently used extensions are not built into the
programs from stock.</p>

<blockquote>
  <ul>
  <li>In Iceweasel, I can press <code>Ctrl+Q</code> and make the damn browser quit, instead
  of me having to use the mouse/trackpad/pointing device. This is probably a
  lack of my understanding on how to associate key bindings to Chromium, but
  the problem still stands.</li>
  </ul>
</blockquote>

<p>Of course, Timo also set me straight and told me about <code>Ctrl+Shift+Q</code> for
that purpose, which I had missed completely.</p>

<blockquote>
  <ul>
  <li>Similarly, when there is only one tab open, pressing <code>Ctrl+W</code> in Chromium
  does not close the tab (say, presenting me a blank tab or the list of most
  visited sites), nor it closes the application.</li>
  </ul>
</blockquote>

<p>As a poor writing of my part, <code>Ctrl+W</code> does close the tabs. But when there
is only one tab present, it doesn't close the window. I'm OK with that,
since I now know the way to close the window. Thanks again Timo.</p>

<p>Oh, and one point that may not be known by many is that using <code>about:flags</code>
in Chrome does something analogue to Firefox's <code>about:config</code> (even with the
warning).</p>

<p>And tweaking with it you can try to see if you can enable hardware
acceleration of some parts of your pages, as present in newer releases of
Chromium.</p>

<p>So, there I am: way more satisfied than with earlier with Chromium, but
still having Firefox/Iceweasel as my primary browser. Good to have two
usable browsers now.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Wed 09 Mar 2011 02:33:00 PM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/browsers/" rel="tag">browsers</a>

<a href="./tags/debian/" rel="tag">debian</a>

<a href="./tags/extensions/" rel="tag">extensions</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/problems_with_chromium/">My problems with Chromium</a>

</span>
</div>

<div class="inlinecontent">
<p>Given that Chromium/Chrome is used more and more (as became apparent
<a href="https://lists.debian.org/debian-release/2010/09/msg00610.html">with the discussion of including it in Debian's squeeze</a>), I decided to
give it some tries, mainly Giuseppe Iuculano's <a href="http://packages.qa.debian.org/c/chromium-browser.html">version</a>. I occasionally
install Chromium from Fabien Tassin's <a href="https://launchpad.net/~chromium-daily/+archive/ppa">daily builds</a>.</p>

<p>And, to be honest, I have also contributed a good amount (about 400) of
<a href="https://launchpad.net/~rbrito/+karma">translated strings</a> to the Brazilian Portuguese part of Chromium. As a
matter of fact, I have even done some "activism" and <a href="https://launchpad.net/~savanabifulco">incentivated</a>
<a href="https://launchpad.net/~bifulcojunior">other</a> <a href="https://launchpad.net/~victor.westmann/+karma">people</a> to create their accounts on Launchpad and help with
the projects.</p>

<p>But I always come back to Iceweasel/Firefox, especially with Mike Hommey's
frequently updated <a href="http://mozilla.debian.net/">repository</a>.</p>

<p>What are my reasons for staying with Iceweasel, and not with Chromium?</p>

<ul>
<li>I can disable full zoom in Iceweasel (i.e., I only want to zoom the text,
not the images). According to Chromium's project BTS, it seems that this
will be a <code>WONTFIX</code> bug, despite many people asking for it (and it having
a lot of duplicates).</li>
<li>I can, in Iceweasel, set my preferred fonts without resorting to hacks on
the system level, like say, having to lie with fontconfig or other stuff.
And I really want Deja Vu Sans, not a serifed font.</li>
<li>In Iceweasel, a middle mouse click on "an inactive portion" of the page
makes me go to the URL that is the system clipboard, just like pasting
stuff in X, in general, works.  I guess that there may be some way to
enable this in Chromium, but, so far, I have not found it.</li>
<li>In Iceweasel, I have a way (without resorting to many extensions or
hackish solutions) to use the equivalent of Firefox's "View &gt; Page Style &gt;
No Style" (i.e., to ignore any CSS sheet that the document author may have
specified on the page).</li>
<li>In Iceweasel, my personal data is encrypted before being synced.</li>
<li>In Iceweasel, I can press <code>Ctrl+Q</code> and make the damn browser quit, instead
of me having to use the mouse/trackpad/pointing device. This is probably a
lack of my understanding on how to associate key bindings to Chromium, but
the problem still stands.</li>
<li>Similarly, when there is only one tab open, pressing <code>Ctrl+W</code> in Chromium
does not close the tab (say, presenting me a blank tab or the list of most
visited sites), nor it closes the application.</li>
</ul>

<p>I would be satisfied if any of the above were fixed or better documented,
but it seems that some of those are, at best, going to wait a long time.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Sat 26 Feb 2011 11:55:06 AM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/browsers/" rel="tag">browsers</a>

<a href="./tags/debian/" rel="tag">debian</a>

<a href="./tags/extensions/" rel="tag">extensions</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/launchpad/" rel="tag">launchpad</a>

<a href="./tags/ubuntu/" rel="tag">ubuntu</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/packaging-fonts-for-a-debian-based-system/">Packaging fonts for a Debian-based system</a>

</span>
</div>

<div class="inlinecontent">
<p>Seeing now that the situation regarding Free fonts is much better than in
the past, I have started packaging some that are of high enough quality so
that we can have it available on our systems (be it Debian or any of the
good derivatives).</p>

<p>In particular, I spent some time during the past few days <a href="https://launchpad.net/~rbrito/+archive/ppa/">packaging</a>
some that, I think, deserve to be mentioned:</p>

<ul>
<li><p><a href="http://www.paratype.com/public/">ParaType Sans</a>: this typeface family consists of a set of proportional,
sans-serif fonts that supply a lot of Cyrillic glyphs.</p>

<p><strong>Purpose</strong>: the intention of this font is that of supporting many of the
smaller ethnic and cultural aspects present in Russia. It was even funded
by the Russian Government: in particular, by the
<a href="http://en.wikipedia.org/wiki/Federal_Agency_on_Press_and_Mass_Communications">Federal Agency for Press and Mass Communications of the Russian Federation</a>.</p>

<p><strong>Why you should care</strong>: for those (like me) that use a Latin-based
alphabet, the fonts also have some nice attractives, like, besides the
usual 4 shape/weight combinations (regular, italic, bold, bold italic),
two other variants: PT Sans Narrow (with its respective bold) and PT Sans
Caption (also with bold).</p>

<p>On top of that, the fonts support ligatures (liga, dlig), fractions
(frac), ordinals (ordn), and glyph composition (ccmp), among <em>other</em>
OpenType features.</p></li>
<li><p><a href="http://www.ms-studio.com/FontSales/anonymouspro.html">Anonymous Pro</a>: this typeface family consists of a set of fixed-width
fonts with the usual 4 shape/weight combinations (regular, italic, bold,
bold italic).</p>

<p><strong>Purpose</strong>: Anonymous Pro was made with people that stare at a computer
screen, coding for long amounts of time, or people that use a terminal all
the time.  Apart from being scalable, it also features some pre-made
bitmap versions at some sizes (10, 11, 12, and 13), so that they should
look better than some automatically drawn font without proper
<a href="http://en.wikipedia.org/wiki/Font_hinting">TrueType hinting</a>.</p>

<p>My package still is not good enough, as I have not yet included explicit
support for the bitmapped sizes via some fontconfig configuration, but I
expect to fix those in two or three days.</p>

<p>(This should just be a matter of including something like</p>

<pre><code>&lt;edit name="embeddedbitmap" mode="assign"&gt;
    &lt;bool&gt;true&lt;/bool&gt;
&lt;/edit&gt;
</code></pre>

<p>in the configuration that I ship with the fonts).</p></li>
<li><p><a href="http://scholarsfonts.net/cardofnt.html">Cardo</a>: this is produced by David Perry and it is a proportional,
serif, old-style typeface similar to some highly regarded fonts like
Bembo. It does not offer italic, or bold versions.</p>

<p><strong>Purpose</strong>: Cardo's target "audience" are scholars that need to type set
Medieval texts, it has <em>many</em> glyphs, support for many opentype features
and the author has told me that he may even provide some support for
typesetting Mathematics (and this <em>is</em> a very big deal, since typesetting
Mathematics is hard enough when you decide to change your typefaces).</p>

<p>It works quite well with Jonathan Kew's <a href="http://scripts.sil.org/xetex">XeTeX</a> and you should just try
it, especially if you are into serif fonts (like I am).</p></li>
<li><p><a href="http://www.droidfonts.com/droidfonts/">Droid</a>: this consists of three font families, with varying shapes and
weights, in sans-serif, sans-serif monospaced, and serif families.  It has
received a lot of press, due to it being sponsored by Google and made by
Ascender Corporation.</p>

<p><strong>Purpose</strong>: the Droid fonts were made for Google's Android platform and
one of the main concerns was to be readable on devices with low resolution
(like computer screens). It has a very wide coverage of glyphs (as one
would expect from a font for phones) and have very high quality. A really
nice donation to the world.</p></li>
<li><p><a href="http://linuxlibertine.sf.net/">Linux Libertine</a>: this has to be one of the most beautiful fonts that
I have see in a while. It has the basic four combinations of a serif font</p>

<p><strong>Purpose</strong>: to provide a beautiful, "organic" version of a typeface that
can substitute Times/Times New Roman. It works well both with "regular"
latex/pdflatex and with XeTeX (and, quite probably, with LuaTeX). It has
quite a lot of OpenType features:</p>

<pre><code>rbrito:~&#036; otfinfo -f /usr/share/fonts/truetype/linux-libertine/LinLibertine_Re.ttf | wc -l
25
rbrito:~&#036;
</code></pre>

<p>OK, I can't be impartial with this font. It is beautiful. It is a pity
that we are in a feature freeze and that a the new version
<a href="http://bugs.debian.org/602845#10">won't probably be included in squeeze</a>.</p></li>
<li><p><a href="http://code.google.com/p/evristika/">Heuristica ("Эвристика")</a>: since Adobe has <a href="http://tug.org/fonts/utopia/LICENSE-utopia.txt">donated</a> <a href="http://en.wikipedia.org/wiki/Utopia_%28typeface%29">Utopia</a>
to the <a href="http://tug.org/">TeX Users's Group</a> under a Free Software license, it was only
a matter of time that people would tweak them and generate other versions.
Then comes Andrey Panov's Heuristica, a modified version of the four basic
typefaces that Adobe donated, in OpenType format (and, to boot, some
<a href="http://code.google.com/p/font-helpers/">nice scripts for fontforge</a>).</p>

<p><strong>Purpose</strong>: Heuristica improves Utopia with the primary intent of adding
Cyrillic symbols by Andrey V. Panov. Andrey has also incorporated
Vietnamese glyphs made available by Hàn Thế Thành. Heuristica is a family
that features regular and italic shapes, with both being present also in
bold weight.</p></li>
</ul>

<p>Well, that's it for now. Stay tuned for more to come.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Fri 12 Nov 2010 11:23:55 AM BRST</span>
</span>


<span class="tags">
Tags:

<a href="./tags/development/" rel="tag">development</a>

<a href="./tags/documents/" rel="tag">documents</a>

<a href="./tags/fonts/" rel="tag">fonts</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/opentype/" rel="tag">opentype</a>

<a href="./tags/tex/" rel="tag">tex</a>

<a href="./tags/typography/" rel="tag">typography</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/first-post-from-debconf-10/">First post from DebConf 10</a>

</span>
</div>

<div class="inlinecontent">
<p>Even though I am late with this post, it is nice to say that I am writing here from this year's DebConf10, in NYC.</p>

<p>Today (well, yesterday) was the day of the Cheese and Wine party and I think that it was cool, at least for the moments that I were there. This post, though, isn't technical in any sense. I only talks shortly about my impressions of the community, as this is my first DebConf ever (despite the fact that I have been using Debian since the late nineties).</p>

<p>I was very pleased to have met Bdale Garbee. I saw him the other day arriving with Keith Packard, but I just didn't want to disturb them at that point. We only talked for, say, 2 minutes, and his was one of the nicest receptions that I had here.</p>

<p>And there were some other people that were equally easy to approach, nice to talk with and, to my surprise, knew my name after some brief moments (yes, this <em>does</em> make a difference, especially when you are in a strange country, when you don't know anybody with whom you have worked for some years). Being involved in the organization stuff, one would think that Jimmy Kaplowitz would be so busy, but he was so kind.</p>

<p>I had longer conversations with Tássia Camões, Tiago Vaz (as always) and some other people that I had not yet had the pleasure of meeting in person. In particular, Daniel Baumann (who apparently is now crazy about our FISL and wants to drink all Guaraná that he can get <code>:-)</code>), Chris Lamb and Otávio Salvador and his mom. Those people are so cool and it is nice to discuss some legal issues among different continents in the lounge of their building at late night. <code>:-)</code> Too bad that I am allocated to the other building. <code>:-)</code></p>

<p>I <em>am</em> forgetting many other people (hey, it is 2 am here in NYC), but I would feel guilty if I had not mentioned at least three people more: Martin Michlmayr, Phil Hands, and Reinhard Tartler (who is uploading lame to the debian repository, as the patents regarding it are expiring or expired already).</p>

<p>Thanks!</p>

<p>P.S.: I just created an account on flickr that I hope to populate with some photos that I took here. And even with a nice squirrel. <code>:-)</code></p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Tue 03 Aug 2010 06:09:46 AM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/debian/" rel="tag">debian</a>

<a href="./tags/development/" rel="tag">development</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/people/" rel="tag">people</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/i-am-going-to-debconf-10/">I am going to DebConf 10</a>

</span>
</div>

<div class="inlinecontent">
<p>I just bought my tickets today to NYC and I am glady to say that I am going to Debconf 10.</p>

<p>[caption id="attachment_55" align="aligncenter" width="200" caption="I am going to DebConf10"]<a rel="attachment wp-att-55" href="http://localhost/blog/2010/07/18/i-am-going-to-debconf-10/im_going_to_debconf10/"><img class="size-full wp-image-55 " title="im_going_to_debconf10" src="http://localhost/blog/wp-content/uploads/2010/07/im_going_to_debconf10.png" alt="I am going to DebConf10" width="200" height="101" /></a>[/caption]</p>

<p>The tickets have this information:</p>

<ul>
    <li><strong>GRU-&gt;JFK:</strong> Departure: 2010-07-30, 21:25; Arrival: 2010-07-31, 6:10, Flight AA950</li>
    <li><strong>JFK-&gt;GRU:</strong> Departure: 2010-08-09, 21:40; Arrival: 2010-08-10, 8:35, Flight AA951</li>
</ul>

<p>This represents a personal milestone for me, as I have many plans for the conference. In fact, this will be a trip of many "firsts" for me:</p>

<ul>
    <li>this will be my first international trip by airplaine.</li>
    <li>this will be my first DebConf ever (despite the fact that I could not apply for the <a href="http://upsilon.cc/~zack/blog/posts/2010/04/the_DebConf_Newbies_initiative/">DebConf Newbies initiative</a>, due to my visa interview being delayed until the 7th of this month).</li>
    <li>this will be the first time to see many people with whom I work together for some years now, but have not yet had the opportunity to meet in person.</li>
    <li>this will be a nice opportunity to work hard on <a href="http://lwn.net/Articles/396079/">some issues that threaten the PowerPC port</a> of Debian.</li>
    <li>this will be a nice opportunity to do some QA work with some packages that I would like to have sponsored; also to <a href="http://bugs.debian.org/551955">upload</a> some of the <a href="http://bugs.debian.org/580005">fonts</a> that I <a href="http://git.debian.org/?p=pkg-fonts/ttf-paratype-sans.git">already packaged</a> (or <a href="http://bugs.debian.org/581839">intend</a> to <a href="http://bugs.debian.org/589094">take care</a>) and that will be maintained under the <a href="http://pkg-fonts.alioth.debian.org/">Debian Fonts Task Force umbrella</a>.</li>
    <li>this will be a very nice opportunity to get myself in a "big" <a href="http://en.wikipedia.org/wiki/Strongly_connected_component">strongly connected component </a> of the <a href="http://en.wikipedia.org/wiki/Web_of_trust">Web-of-Trust</a> with as many arcs as feasible, by means of the <a href="http://people.debian.org/~anibal/ksp-dc10/ksp-dc10.html">key signing party.</a></li>
    <li>and many, many other things that I would like to do for the project.</li>
</ul>

<p>I am thankful for the DebConf team sponsoring both accomodation and food.  It is highly appreciated.</p>

<p>See you in NYC! Any hints that you may happen to have are warmly welcome.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Sun 18 Jul 2010 03:34:40 AM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/debian/" rel="tag">debian</a>

<a href="./tags/development/" rel="tag">development</a>

<a href="./tags/fonts/" rel="tag">fonts</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/hacks/" rel="tag">hacks</a>

<a href="./tags/powerpc/" rel="tag">powerpc</a>

<a href="./tags/web-of-trust/" rel="tag">web-of-trust</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/a-version-of-xpdf-with-the-poppler-backend-available/">A version of xpdf with the poppler backend available</a>

</span>
</div>

<div class="inlinecontent">
<p>Well, it's been some time since I last wrote here and things are quite hectic, due to some real-life happenings.</p>

<h2>Announcement</h2>

<p>For those people that are insterested in a <em>small</em> PDF viewer, based on <a href="http://poppler.freedesktop.org/">an actively maintained backend</a>, and that <a href="http://localhost/blog/2010/05/27/please-let-me-zoom-my-documents/">doesn't bring your computer to a halt</a> when you try to zoom your documents when you need to see some details, then you might want to give <a href="http://github.com/rbrito/xpdf-poppler">this version of xpdf</a> a try.</p>

<p>I already received some reports for some bugs and fixed them, with one of them being a problem related by a kind user of <a href="http://www.gentoo.org/">Gentoo</a>.</p>

<h2>Motivation</h2>

<p>Some people have asked me why this even needs to exist in the first place and I agree that it would be better if it didn't: I would love to spend my time actually <em>using</em> my computers rather than <em>fixing</em> my computers for better tasks (read: studying Mathematics, etc).</p>

<p>The upstream maintainer of xpdf uses it as one source of income and keeps it running across many system (even legacy ones).  I <em>imagine</em> that this one of the reasons why he tries to keep xpdf almost self contained, with many parts that could be delegated to other libraries, and with some abstraction code that makes the code compile even in the presence of <em>very</em> broken compilers.  Of course, this means, in part, that as long as you take more duties, maintaing the code becomes more and more complex.</p>

<p>He told me that he doesn't offer an open development tree because he wants to give his customers some advantages over the public version and his reasons are perfectly justifiable, of course.  He also manifested the interest of possibly basing xpdf on a "more modern toolkit" and, when I asked him what that would be, he mentioned that, perhaps, it would be Qt. The development of xpdf will, quite probably, take newer directions.</p>

<p>Unfortunately, xpdf has not seen a new upstream release since <a href="http://www.foolabs.com/xpdf/CHANGES">2007-02-27</a>.  It did, though, have <a href="ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.02pl1.patch">some</a> <a href="ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.02pl2.patch">patchlevel</a> <a href="ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.02pl3.patch">updates</a> <a href="ftp://ftp.foolabs.com/pub/xpdf/xpdf-3.02pl4.patch">released</a>. Taking care of the maintainance of the code is a <a href="http://bugs.debian.org/527840">high concern</a> for distributions.</p>

<p>Some people, though, would like to <a href="http://en.wikipedia.org/wiki/KISS_principle">keep it simple</a> (me included).  Unfortunately, <a href="http://bugs.debian.org/351279">some efforts</a> to <a href="http://lists.debian.org/debian-mentors/2010/06/msg00046.html">maintain</a> it had <a href="http://bugs.gentoo.org/show_bug.cgi?id=289803">not had</a> the <a href="http://lists.debian.org/debian-mentors/2010/06/msg00068.html">necessary coordination</a> and duplication of effort has occured.</p>

<h2>Proposal</h2>

<p>I am willing to become a patch aggregator for the code in xpdf with a poppler backend. I would love to give it some refactoring too, drop some of the legacy code that is not used (and only serves to make the code hard to read), and adopt some good coding style standard (I particularly <a href="http://www.kernel.org/doc/Documentation/CodingStyle">like the one from the Linux Kernel</a>---with the proper adaptations for C++).</p>

<p>I have already <a href="https://bugs.gentoo.org/show_bug.cgi?id=323469">contacted the people at Gentoo</a>, and I would love to get people from Fedora, Ubuntu, and Suse involved also. Alas,  the last time I tried to mail their mailing lists, I got  messages telling me that my messages were rejected or waiting for moderation, because I was not a subscriber. I never heard back, since.</p>

<p>I appreciate it if you could help spread the word.</p>

<p>Thanks.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Thu 10 Jun 2010 07:46:13 PM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/c++/" rel="tag">c++</a>

<a href="./tags/debian/" rel="tag">debian</a>

<a href="./tags/development/" rel="tag">development</a>

<a href="./tags/documents/" rel="tag">documents</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/hacks/" rel="tag">hacks</a>

<a href="./tags/libraries/" rel="tag">libraries</a>

<a href="./tags/programming/" rel="tag">programming</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/nobody-expects-the----stix-fonts-release-/">Nobody expects the... STIX fonts release!</a>

</span>
</div>

<div class="inlinecontent">
<p>Please, excuse me if you are a connoisseur of fonts and typography. You will
find this boring, but other people may not know.</p>

<p>With that said, something that has been the subject of a joke for
<a href="http://stixfonts.org/proj_timeline.html">many years</a> is the release of a set of fonts designed by a consortium of
pulishers to create a typeface that would "match" the visual of Times, but
that would have many (all?) of the glyphs needed by scientists.</p>

<p>Well, <a href="http://www.stixfonts.org/">the wait is over</a> (surprisingly). I didn't expect that. And the
Free Software part of this is that the fonts were released under the SIL
Open Font Library.</p>

<p>This, together with Google's new <a href="http://code.google.com/webfonts">font directory</a> of Free Software fonts
(overshadowed by the release of VP8 codec, in the eyes of some), shows that
the typographic arena is alive and going strong.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Sat 29 May 2010 05:54:56 PM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/fonts/" rel="tag">fonts</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/tex/" rel="tag">tex</a>

<a href="./tags/typography/" rel="tag">typography</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/preliminary-support-for-webm-in-youtube-dl/">Preliminary support for webm in youtube-dl</a>

</span>
</div>

<div class="inlinecontent">
<p>I just added some very, very preliminary support for web in <code>youtube-dl</code> which <a href="http://lists.debian.org/debian-devel-changes/2010/05/msg02694.html">I uploaded</a> to unstable some minutes ago.</p>

<p>This way, at least people will have some material (in, fact, a chance) to play with this format.  I implemented this because, so far, I was only hoping here that a player for this would emerge. I guess that Debian's ffmpeg/mplayer will take some time, but I was pleased to see that Sebastian Dröge to upload a version of <a href="http://lists.debian.org/debian-devel-changes/2010/05/msg02596.html">something</a> that could use the new <code>libvpx</code> codec.</p>

<p>I hope that, now, as a side effect of webm being widely available, more people become interested in <a href="http://www.vorbis.com/">Vorbis</a>. More support (no, not "alternative", like <a href="http://www.rockbox.org/">Rockbox</a>, but straight from the manufacturers) for it in hardware devices will be sweet. Well, I can dream. <img src="./smileys/smile.png" alt=":-)" /></p>

<p>Well, it seems to be time to shape up that local build of mine of the <a href="http://www.geocities.jp/aoyoume/aotuv/">aotuv</a> tuned version of Vorbis with <a href="http://www.geocities.jp/aoyoume/">Aoyumi</a>'s patches for libvorbis.</p>

<p>Exciting times in the multimedia world.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Sat 29 May 2010 05:06:18 PM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/audio/" rel="tag">audio</a>

<a href="./tags/debian/" rel="tag">debian</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/hacks/" rel="tag">hacks</a>

<a href="./tags/libraries/" rel="tag">libraries</a>

<a href="./tags/multimedia/" rel="tag">multimedia</a>

<a href="./tags/video/" rel="tag">video</a>

</span>








</div>

</div>
<div class="inlinepage">

<div class="inlineheader">

<span class="header">

<a href="./posts/please-let-me-zoom-my-documents-/">Please let me zoom my documents!</a>

</span>
</div>

<div class="inlinecontent">
<p>It all started when I tried to typeset my documents with the <a href="http://en.wikipedia.org/wiki/Utopia (typeface)">Utopia</a> typeface, which is Free Software, since <a>Adobe liberated it to the TeX Users Group.</a></p>

<p>There are some nice packages for changing fonts in LaTeX with Utopia, like <a href="http://www.ctan.org/tex-archive/help/Catalogue/entries/mathdesign-utopia.html"><code>mathdesign</code></a> and <a href="http://www.ctan.org/tex-archive/help/Catalogue/entries/fourier.html">fourier</a>. But I wanted to play with a new toy, <a href="http://www.tug.org/xetex/">XeTeX</a>.</p>

<p>Then, seeing as small caps was missing from the fonts that Adobe donated, I tried to just fake them with a program that I had never heard of before: <a href="http://fontforge.sf.net/">fontforge</a>.</p>

<p>My <a href="http://bugs.debian.org/569548">first attempt</a> wasn't that very successful, but, after reading a little bit of the code, <a href="http://bugs.debian.org/569548#15">the reason for the problem was soon discovered</a>.</p>

<p>At the same time, I wanted to <em>see</em> what I had done with a PDF reader. The options aren't many here: xpdf was already removed from Debian's unstable (which is the distribution that I use), trying to <a href="http://bugs.debian.org/527840">update it</a> proved to be unsuccessful and upstream isn't that active (which, by the way, led to the creation of the <a href="http://cgit.freedesktop.org/poppler/poppler/tree/README">poppler project</a>).</p>

<p>Unfortunately, some of the Free PDF viewers seem to be <a href="https://bugs.launchpad.net/evince/+bug/241604">limited</a> <a href="https://bugzilla.redhat.com/show_bug.cgi?id=532946">to</a> a <a href="http://mail.gnome.org/archives/evince-list/2007-March/msg00002.html">maximum</a> <a href="http://bugs.debian.org/583119">zoom</a> <a href="http://bugs.debian.org/580495">of 400%</a>, while some documents seem to demand more zooming (especially those with little, tiny letters, and for those people, like myself, that don't have good eyesight).</p>

<p>Patching the programs to eliminate those hardcoded limits isn't that hard, but the results with evince and epdfview can be frightening: <a href="http://kernel.org/pub/linux/kernel/people/hpa/raid6.pdf">a very simple document</a>, when zoomed with epdfview to, say, 1600% uses so much memory that one needs to watch out for the Out Of Memory killer and so much swapping that it is hard to believe. Don't believe my words. Just try it.</p>

<p>But, hey, I just want to see a document without having to suffer too much.  And 400% isn't enough for many documents that I have. Especially when I want to see how a given font has been rendered on a document.</p>

<p>I have not yet investigated the real cause of the huge memory consumption, but I would trust the words of the developers, that <a href="https://bugzilla.gnome.org/show_bug.cgi?id=303365#c6">evince does everything in a big piece of memory</a>. On the other hand, if one compiles poppler right from the sources, its <a href="http://cgit.freedesktop.org/poppler/poppler/tree/glib/demo">demo program</a> for the glib backend can display files in a zippy manner, even with very large zooms.</p>

<p>xpdf, though, works very well with higher zoom levels, without making the whole computer grind to a halt. Seeing as Martin Pitt has <a href="http://bugs.debian.org/351279">stripped xpdf to be able to use the poppler backend</a>, I was animated to have the best of both worlds: the frequent updates of poppler and the lightness of xpdf.</p>

<p>Martin's port of xpdf doesn't compile with a recent poppler, though: the library has <a href="http://lists.freedesktop.org/archives/poppler/2009-May/004665.html">changed</a> <a href="http://lists.debian.org/debian-devel/2007/12/msg00501.html">a lot</a> <a href="https://bugzilla.redhat.com/show_bug.cgi?id=551119#c3">since</a> <a href="http://lists.debian.org/debian-tex-maint/2009/09/msg00203.html">2006</a>.  And, in many respects, for good reason, since the original code is not that clean. But it makes harder for luses like me to use code based on fast-changing libraries.</p>

<p>Well, to cut a long story short, after two afternoons hunting down a  version of poppler that would allow me to compile Martin's xpdf version, I got bored and tried to attack the problem.  Now I can use  this alternative version of xpdf with the poppler backend, with very little dependencies and with little memory usage on my computer. I'm keeping it for my private use, but if anybody else is interested, please let me know.</p>

</div>

<div class="inlinefooter">

<span class="pagedate">
Posted <span class="date">Thu 27 May 2010 11:17:00 AM BRT</span>
</span>


<span class="tags">
Tags:

<a href="./tags/bugs/" rel="tag">bugs</a>

<a href="./tags/debian/" rel="tag">debian</a>

<a href="./tags/fonts/" rel="tag">fonts</a>

<a href="./tags/free-software/" rel="tag">free-software</a>

<a href="./tags/hacks/" rel="tag">hacks</a>

<a href="./tags/libraries/" rel="tag">libraries</a>

<a href="./tags/pdf/" rel="tag">pdf</a>

<a href="./tags/tex/" rel="tag">tex</a>

<a href="./tags/xetex/" rel="tag">xetex</a>

</span>








</div>

</div>


</div>





</div>

<div id="footer" class="pagefooter">

<div id="pageinfo">




<div id="backlinks">
Links:

<a href="./comments/">comments</a>

<a href="./posts/">posts</a>


</div>






<div class="pagedate">
Last edited <span class="date">Sat 26 Feb 2011 10:38:26 PM BRT</span>
<!-- Created <span class="date">Fri 08 Oct 2010 02:13:22 PM BRT</span> -->
</div>

</div>


<!-- from Rogério Brito's Digital Junkyard -->
</div>

</div>

</body>
</html>
